% generated by Ott 0.33 from: core.ott grammar.ott rules.ott surface-algo.ott surface-core.ott
\usepackage{hyperref}
\makeatletter
\NewDocumentCommand \ruleLabel { m m }{%
\def\@currentlabelname{\ottdrulename{#1}}%
\phantomsection
\label{#2}%
}%%
\makeatother
\newcommand{\ottdrule}[4][]{{\displaystyle\frac{\begin{array}{l}#2\end{array}}{#3}\quad\ottdrulename{#4}}}
\newcommand{\ottusedrule}[1]{\[#1\]}
\newcommand{\ottpremise}[1]{ #1 \\}
\newenvironment{ottdefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]}{}
\newenvironment{ottfundefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]\begin{displaymath}\begin{array}{l}}{\end{array}\end{displaymath}}
\newcommand{\ottfunclause}[2]{ #1 \equiv #2 \\}
\newcommand{\ottnt}[1]{\mathit{#1}}
\newcommand{\ottmv}[1]{\mathit{#1}}
\newcommand{\ottkw}[1]{\mathbf{#1}}
\newcommand{\ottsym}[1]{#1}
\newcommand{\ottcom}[1]{\text{#1}}
\newcommand{\ottdrulename}[1]{\textsc{#1}}
\newcommand{\ottcomplu}[5]{\overline{#1}^{\,#2\in #3 #4 #5}}
\newcommand{\ottcompu}[3]{\overline{#1}^{\,#2<#3}}
\newcommand{\ottcomp}[2]{\overline{#1}^{\,#2}}
\newcommand{\ottgrammartabular}[1]{\begin{supertabular}{llcllllll}#1\end{supertabular}}
\newcommand{\ottmetavartabular}[1]{\begin{supertabular}{ll}#1\end{supertabular}}
\newcommand{\ottrulehead}[3]{$#1$ & & $#2$ & & & \multicolumn{2}{l}{#3}}
\newcommand{\ottprodline}[6]{& & $#1$ & $#2$ & $#3 #4$ & $#5$ & $#6$}
\newcommand{\ottprodinline}[4]{\multicolumn{3}{l}{#1} \\ $#2$ &$#3$& $#4$}
\newcommand{\ottfirstprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottlongprodline}[2]{& & $#1$ & \multicolumn{4}{l}{$#2$}}
\newcommand{\ottfirstlongprodline}[2]{\ottlongprodline{#1}{#2}}
\newcommand{\ottbindspecprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottprodnewline}{\\}
\newcommand{\ottinterrule}{\\[5.0mm]}
\newcommand{\ottafterlastrule}{\\}

\newcommand{\sur}[1]{\underline{#1} }
\newcommand{\alg}[1]{\widehat{#1} }
\newcommand{\suralg}[1]{\widehat{\underline{#1} } }


\newcommand{\ottmetavars}{
\ottmetavartabular{
 $ \alpha ,\, \beta ,\, \gamma ,\, \delta ,\, \alpha ,\, \beta ,\, \gamma ,\, \delta $ & \ottcom{type variables} \\
 $ \ottmv{n} ,\, \ottmv{m} ,\, \ottmv{i} ,\, \ottmv{j} ,\, \ottmv{k} $ & \ottcom{index variables} \\
 $ \ottmv{x} ,\, \ottmv{y} $ & \ottcom{term variable} \\
 $ \ottmv{ax} ,\, \ottmv{ay} $ & \ottcom{term algorithmic variable} \\
}}

\newcommand{\ottse}{
\ottrulehead{\sur{e}  ,\ \sur{p}}{\Coloneqq}{}\ottprodnewline
\ottfirstprodline{|}{\ottmv{x}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\mathbin{< >}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\lambda^{\Pi}  \ottmv{x}  \ottsym{:}  A  .\,  \sur{e}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\lambda^{\forall}  \ottmv{x}  \ottsym{:}  A  .\,  \sur{e}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\sur{e}  \ottsym{(}  \vv{ \sur{ss} }  \ottsym{)}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{refl} \, \sur{e}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{subst} \, \ottsym{(}  \sur{p}  \ottsym{:}  \sur{e}_{{\mathrm{1}}}  \ottsym{=}  \sur{e}_{{\mathrm{2}}}  \ottsym{:}  A  \ottsym{,}  \ottmv{x}  .\,  B  \ottsym{,}  \sur{e}  \ottsym{)}}{}{}{}{}}

\newcommand{\ottseInline}{\ottprodinline{}{\sur{e}  ,\ \sur{p}}{\Coloneqq}{{\ottmv{x}} \mid {\mathbin{< >}} \mid {\lambda^{\Pi}  \ottmv{x}  \ottsym{:}  A  .\,  \sur{e}} \mid {\lambda^{\forall}  \ottmv{x}  \ottsym{:}  A  .\,  \sur{e}} \mid {\sur{e}  \ottsym{(}  \vv{ \sur{ss} }  \ottsym{)}} \mid {\ottkw{refl} \, \sur{e}} \mid {\ottkw{subst} \, \ottsym{(}  \sur{p}  \ottsym{:}  \sur{e}_{{\mathrm{1}}}  \ottsym{=}  \sur{e}_{{\mathrm{2}}}  \ottsym{:}  A  \ottsym{,}  \ottmv{x}  .\,  B  \ottsym{,}  \sur{e}  \ottsym{)}}}}

\newcommand{\ottss}{
\ottrulehead{\vv{ \sur{ss} }}{\Coloneqq}{}\ottprodnewline
\ottfirstprodline{|}{\cdot}{}{}{}{}\ottprodnewline
\ottprodline{|}{\sur{e}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{\{}  \sur{e}  \ottsym{\}}}{}{}{}{}\ottprodnewline
\ottprodline{|}{ \{\_\} }{}{}{}{}\ottprodnewline
\ottprodline{|}{\vv{ \sur{ss} }_{{\mathrm{1}}}  \ottsym{,}  \vv{ \sur{ss} }_{{\mathrm{2}}}}{}{}{}{\ottcom{concatenate}}}

\newcommand{\ottssInline}{\ottprodinline{}{\vv{ \sur{ss} }}{\Coloneqq}{{\cdot} \mid {\sur{e}} \mid {\ottsym{\{}  \sur{e}  \ottsym{\}}} \mid { \{\_\} } \mid {\vv{ \sur{ss} }_{{\mathrm{1}}}  \ottsym{,}  \vv{ \sur{ss} }_{{\mathrm{2}}}}}}

\newcommand{\ottA}{
\ottrulehead{A  ,\ B  ,\ C  ,\ D}{\Coloneqq}{}\ottprodnewline
\ottfirstprodline{|}{ 1 }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \Pi  \ottmv{x} : A  . \,  B }{}{\textsf{bind}\; \ottmv{x}\; \textsf{in}\; B}{}{}\ottprodnewline
\ottprodline{|}{ \forall  \ottmv{x} : A  . \,  B }{}{\textsf{bind}\; \ottmv{x}\; \textsf{in}\; B}{}{}\ottprodnewline
\ottprodline{|}{ e_{{\mathrm{1}}}  =  e_{{\mathrm{2}}}  :  A }{}{}{}{}}

\newcommand{\ottAInline}{\ottprodinline{}{A  ,\ B  ,\ C  ,\ D}{\Coloneqq}{{ 1 } \mid { \Pi  \ottmv{x} : A  . \,  B } \mid { \forall  \ottmv{x} : A  . \,  B } \mid { e_{{\mathrm{1}}}  =  e_{{\mathrm{2}}}  :  A }}}

\newcommand{\otte}{
\ottrulehead{e  ,\ p}{\Coloneqq}{}\ottprodnewline
\ottfirstprodline{|}{\ottmv{x}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\mathbin{< >}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\lambda^{\Pi}  \ottmv{x}  \ottsym{:}  A  .\,  e}{}{}{}{}\ottprodnewline
\ottprodline{|}{\lambda^{\forall}  \ottmv{x}  \ottsym{:}  A  .\,  e}{}{}{}{}\ottprodnewline
\ottprodline{|}{e  \ottsym{(}  \vv{ s }  \ottsym{)}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{refl} \, e}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{subst} \, \ottsym{(}  p  \ottsym{:}  e_{{\mathrm{1}}}  \ottsym{=}  e_{{\mathrm{2}}}  \ottsym{:}  A  \ottsym{,}  \ottmv{x}  .\,  B  \ottsym{,}  e  \ottsym{)}}{}{}{}{}}

\newcommand{\otteInline}{\ottprodinline{}{e  ,\ p}{\Coloneqq}{{\ottmv{x}} \mid {\mathbin{< >}} \mid {\lambda^{\Pi}  \ottmv{x}  \ottsym{:}  A  .\,  e} \mid {\lambda^{\forall}  \ottmv{x}  \ottsym{:}  A  .\,  e} \mid {e  \ottsym{(}  \vv{ s }  \ottsym{)}} \mid {\ottkw{refl} \, e} \mid {\ottkw{subst} \, \ottsym{(}  p  \ottsym{:}  e_{{\mathrm{1}}}  \ottsym{=}  e_{{\mathrm{2}}}  \ottsym{:}  A  \ottsym{,}  \ottmv{x}  .\,  B  \ottsym{,}  e  \ottsym{)}}}}

\newcommand{\otts}{
\ottrulehead{\vv{ s }}{\Coloneqq}{}\ottprodnewline
\ottfirstprodline{|}{\cdot}{}{}{}{}\ottprodnewline
\ottprodline{|}{e}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{\{}  e  \ottsym{\}}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\vv{ s }_{{\mathrm{1}}}  \ottsym{,}  \vv{ s }_{{\mathrm{2}}}}{}{}{}{\ottcom{concatenate}}}

\newcommand{\ottsInline}{\ottprodinline{}{\vv{ s }}{\Coloneqq}{{\cdot} \mid {e} \mid {\ottsym{\{}  e  \ottsym{\}}} \mid {\vv{ s }_{{\mathrm{1}}}  \ottsym{,}  \vv{ s }_{{\mathrm{2}}}}}}

\newcommand{\ottG}{
\ottrulehead{\Gamma}{\Coloneqq}{}\ottprodnewline
\ottfirstprodline{|}{\cdot}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottmv{x}  \ottsym{:}  A}{}{}{}{}\ottprodnewline
\ottprodline{|}{\Gamma_{{\mathrm{1}}}  \ottsym{,}  \Gamma_{{\mathrm{2}}}}{}{}{}{\ottcom{concatenate}}}

\newcommand{\ottGInline}{\ottprodinline{}{\Gamma}{\Coloneqq}{{\cdot} \mid {\ottmv{x}  \ottsym{:}  A} \mid {\Gamma_{{\mathrm{1}}}  \ottsym{,}  \Gamma_{{\mathrm{2}}}}}}

\newcommand{\ottsae}{
\ottrulehead{\suralg{e}  ,\ \suralg{p}}{\Coloneqq}{}\ottprodnewline
\ottfirstprodline{|}{\ottmv{x}}{}{}{}{}\ottprodnewline
\ottprodline{|}{ \widehat{x} }{}{}{}{}\ottprodnewline
\ottprodline{|}{\mathbin{< >}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\lambda^{\Pi}  \ottmv{x}  \ottsym{:}  \alg{A}  .\,  \suralg{e}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\lambda^{\forall}  \ottmv{x}  \ottsym{:}  \alg{A}  .\,  \suralg{e}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\suralg{e}  \ottsym{(}  \suralg{\vv{ s } }  \ottsym{)}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{refl} \, \suralg{e}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{subst} \, \ottsym{(}  p  \ottsym{:}  \suralg{e}_{{\mathrm{1}}}  \ottsym{=}  \suralg{e}_{{\mathrm{2}}}  \ottsym{:}  \alg{A}  \ottsym{,}  \ottmv{x}  .\,  \alg{B}  \ottsym{,}  \suralg{e}  \ottsym{)}}{}{}{}{}}

\newcommand{\ottsaeInline}{\ottprodinline{}{\suralg{e}  ,\ \suralg{p}}{\Coloneqq}{{\ottmv{x}} \mid { \widehat{x} } \mid {\mathbin{< >}} \mid {\lambda^{\Pi}  \ottmv{x}  \ottsym{:}  \alg{A}  .\,  \suralg{e}} \mid {\lambda^{\forall}  \ottmv{x}  \ottsym{:}  \alg{A}  .\,  \suralg{e}} \mid {\suralg{e}  \ottsym{(}  \suralg{\vv{ s } }  \ottsym{)}} \mid {\ottkw{refl} \, \suralg{e}} \mid {\ottkw{subst} \, \ottsym{(}  p  \ottsym{:}  \suralg{e}_{{\mathrm{1}}}  \ottsym{=}  \suralg{e}_{{\mathrm{2}}}  \ottsym{:}  \alg{A}  \ottsym{,}  \ottmv{x}  .\,  \alg{B}  \ottsym{,}  \suralg{e}  \ottsym{)}}}}

\newcommand{\ottsas}{
\ottrulehead{\suralg{\vv{ s } }}{\Coloneqq}{}\ottprodnewline
\ottfirstprodline{|}{\cdot}{}{}{}{}\ottprodnewline
\ottprodline{|}{\suralg{e}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{\{}  \suralg{e}  \ottsym{\}}}{}{}{}{}\ottprodnewline
\ottprodline{|}{ \{\_\} }{}{}{}{}\ottprodnewline
\ottprodline{|}{\suralg{\vv{ s } }_{{\mathrm{1}}}  \ottsym{,}  \suralg{\vv{ s } }_{{\mathrm{2}}}}{}{}{}{\ottcom{concatenate}}}

\newcommand{\ottsasInline}{\ottprodinline{}{\suralg{\vv{ s } }}{\Coloneqq}{{\cdot} \mid {\suralg{e}} \mid {\ottsym{\{}  \suralg{e}  \ottsym{\}}} \mid { \{\_\} } \mid {\suralg{\vv{ s } }_{{\mathrm{1}}}  \ottsym{,}  \suralg{\vv{ s } }_{{\mathrm{2}}}}}}

\newcommand{\ottaA}{
\ottrulehead{\alg{A}  ,\ \alg{B}  ,\ \alg{C}  ,\ \alg{D}}{\Coloneqq}{}\ottprodnewline
\ottfirstprodline{|}{ 1 }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \Pi  \ottmv{x} : \alg{A}  . \,  \alg{B} }{}{\textsf{bind}\; \ottmv{x}\; \textsf{in}\; \alg{B}}{}{}\ottprodnewline
\ottprodline{|}{ \forall  \ottmv{x} : \alg{A}  . \,  \alg{B} }{}{\textsf{bind}\; \ottmv{x}\; \textsf{in}\; \alg{B}}{}{}\ottprodnewline
\ottprodline{|}{ \alg{e}_{{\mathrm{1}}}  =  \alg{e}_{{\mathrm{2}}}  :  \alg{A} }{}{}{}{}}

\newcommand{\ottaAInline}{\ottprodinline{}{\alg{A}  ,\ \alg{B}  ,\ \alg{C}  ,\ \alg{D}}{\Coloneqq}{{ 1 } \mid { \Pi  \ottmv{x} : \alg{A}  . \,  \alg{B} } \mid { \forall  \ottmv{x} : \alg{A}  . \,  \alg{B} } \mid { \alg{e}_{{\mathrm{1}}}  =  \alg{e}_{{\mathrm{2}}}  :  \alg{A} }}}

\newcommand{\ottae}{
\ottrulehead{\alg{e}  ,\ \alg{p}}{\Coloneqq}{}\ottprodnewline
\ottfirstprodline{|}{\ottmv{x}}{}{}{}{}\ottprodnewline
\ottprodline{|}{ \widehat{x} }{}{}{}{}\ottprodnewline
\ottprodline{|}{\mathbin{< >}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\lambda^{\Pi}  \ottmv{x}  \ottsym{:}  \alg{A}  .\,  \alg{e}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\lambda^{\forall}  \ottmv{x}  \ottsym{:}  \alg{A}  .\,  \alg{e}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\alg{e}  \ottsym{(}  \alg{\vv{ s } }  \ottsym{)}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{refl} \, \alg{e}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{subst} \, \ottsym{(}  p  \ottsym{:}  \alg{e}_{{\mathrm{1}}}  \ottsym{=}  \alg{e}_{{\mathrm{2}}}  \ottsym{:}  \alg{A}  \ottsym{,}  \ottmv{x}  .\,  \alg{B}  \ottsym{,}  \alg{e}  \ottsym{)}}{}{}{}{}}

\newcommand{\ottaeInline}{\ottprodinline{}{\alg{e}  ,\ \alg{p}}{\Coloneqq}{{\ottmv{x}} \mid { \widehat{x} } \mid {\mathbin{< >}} \mid {\lambda^{\Pi}  \ottmv{x}  \ottsym{:}  \alg{A}  .\,  \alg{e}} \mid {\lambda^{\forall}  \ottmv{x}  \ottsym{:}  \alg{A}  .\,  \alg{e}} \mid {\alg{e}  \ottsym{(}  \alg{\vv{ s } }  \ottsym{)}} \mid {\ottkw{refl} \, \alg{e}} \mid {\ottkw{subst} \, \ottsym{(}  p  \ottsym{:}  \alg{e}_{{\mathrm{1}}}  \ottsym{=}  \alg{e}_{{\mathrm{2}}}  \ottsym{:}  \alg{A}  \ottsym{,}  \ottmv{x}  .\,  \alg{B}  \ottsym{,}  \alg{e}  \ottsym{)}}}}

\newcommand{\ottas}{
\ottrulehead{\alg{\vv{ s } }}{\Coloneqq}{}\ottprodnewline
\ottfirstprodline{|}{\cdot}{}{}{}{}\ottprodnewline
\ottprodline{|}{\alg{e}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{\{}  \alg{e}  \ottsym{\}}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\alg{\vv{ s } }_{{\mathrm{1}}}  \ottsym{,}  \alg{\vv{ s } }_{{\mathrm{2}}}}{}{}{}{\ottcom{concatenate}}}

\newcommand{\ottasInline}{\ottprodinline{}{\alg{\vv{ s } }}{\Coloneqq}{{\cdot} \mid {\alg{e}} \mid {\ottsym{\{}  \alg{e}  \ottsym{\}}} \mid {\alg{\vv{ s } }_{{\mathrm{1}}}  \ottsym{,}  \alg{\vv{ s } }_{{\mathrm{2}}}}}}

\newcommand{\ottaG}{
\ottrulehead{\alg{\Gamma}}{\Coloneqq}{}\ottprodnewline
\ottfirstprodline{|}{\cdot}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottmv{x}  \ottsym{:}  \alg{A}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\alg{\Gamma}_{{\mathrm{1}}}  \ottsym{,}  \alg{\Gamma}_{{\mathrm{2}}}}{}{}{}{\ottcom{concatenate}}}

\newcommand{\ottaGInline}{\ottprodinline{}{\alg{\Gamma}}{\Coloneqq}{{\cdot} \mid {\ottmv{x}  \ottsym{:}  \alg{A}} \mid {\alg{\Gamma}_{{\mathrm{1}}}  \ottsym{,}  \alg{\Gamma}_{{\mathrm{2}}}}}}

\newcommand{\ottMG}{
\ottrulehead{M\Gamma}{\Coloneqq}{}\ottprodnewline
\ottfirstprodline{|}{\cdot}{}{}{}{}\ottprodnewline
\ottprodline{|}{\alg{\Gamma}  \vdash  \ottmv{ax}  \Leftarrow  \alg{A}}{}{}{}{}\ottprodnewline
\ottprodline{|}{M\Gamma_{{\mathrm{1}}}  \ottsym{,}  M\Gamma_{{\mathrm{2}}}}{}{}{}{\ottcom{concatenate}}}

\newcommand{\ottMGInline}{\ottprodinline{}{M\Gamma}{\Coloneqq}{{\cdot} \mid {\alg{\Gamma}  \vdash  \ottmv{ax}  \Leftarrow  \alg{A}} \mid {M\Gamma_{{\mathrm{1}}}  \ottsym{,}  M\Gamma_{{\mathrm{2}}}}}}

\newcommand{\ottgrammar}{\ottgrammartabular{
\ottse\ottinterrule
\ottss\ottinterrule
\ottA\ottinterrule
\otte\ottinterrule
\otts\ottinterrule
\ottG\ottinterrule
\ottsae\ottinterrule
\ottsas\ottinterrule
\ottaA\ottinterrule
\ottae\ottinterrule
\ottas\ottinterrule
\ottaG\ottinterrule
\ottMG\ottafterlastrule
}}

% defnss
% defns Core
%% defn Check
\newcommand{\ottdruleCoreCSwitchName}[0]{CoreCSwitch}
\newcommand{\ottdruleCoreCSwitchLabel}[0]{CoreCSwitch}
\newcommand{\ottdruleCoreCSwitch}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  e  \Rightarrow  A' \quad \Gamma  \vdash  A'  \equiv  A}%
}{
\Gamma  \vdash  e  \Leftarrow  A}{%
{\ottdruleCoreCSwitchName}{}%
}}
\newcommand{\ottdruleCoreCSwitchLabeled}[2][]{\ottdruleCoreCSwitch{#2}%
  \ruleLabel{\ottdruleCoreCSwitchName}{#1\ottdruleCoreCSwitchLabel}
}

\newcommand{\ottdefnHeaderCoreCheck}[0]{$\Gamma  \vdash  e  \Leftarrow  A$}

\newcommand{\ottdefnCoreCheck}[1]{\begin{ottdefnblock}[#1]{\ottdefnHeaderCoreCheck}{}
\ottusedrule{\ottdruleCoreCSwitch{}}
\end{ottdefnblock}}


\newcommand{\ottdefnCoreCheckLabeled}[2][]{\begin{ottdefnblock}[#2]{\ottdefnHeaderCoreCheck}{}
\ottusedrule{\ottdruleCoreCSwitchLabeled[#1]{}}
\end{ottdefnblock}}

%% defn Inf
\newcommand{\ottdruleCoreIVarName}[0]{CoreIVar}
\newcommand{\ottdruleCoreIVarLabel}[0]{CoreIVar}
\newcommand{\ottdruleCoreIVar}[1]{\ottdrule[#1]{%
\ottpremise{\ottmv{x}  \ottsym{:}  A  \in  \Gamma}%
}{
\Gamma  \vdash  \ottmv{x}  \Rightarrow  A}{%
{\ottdruleCoreIVarName}{}%
}}
\newcommand{\ottdruleCoreIVarLabeled}[2][]{\ottdruleCoreIVar{#2}%
  \ruleLabel{\ottdruleCoreIVarName}{#1\ottdruleCoreIVarLabel}
}


\newcommand{\ottdruleCoreIUnitName}[0]{CoreIUnit}
\newcommand{\ottdruleCoreIUnitLabel}[0]{CoreIUnit}
\newcommand{\ottdruleCoreIUnit}[1]{\ottdrule[#1]{%
}{
\Gamma  \vdash  \mathbin{< >}  \Rightarrow   1 }{%
{\ottdruleCoreIUnitName}{}%
}}
\newcommand{\ottdruleCoreIUnitLabeled}[2][]{\ottdruleCoreIUnit{#2}%
  \ruleLabel{\ottdruleCoreIUnitName}{#1\ottdruleCoreIUnitLabel}
}


\newcommand{\ottdruleCoreILamName}[0]{CoreILam}
\newcommand{\ottdruleCoreILamLabel}[0]{CoreILam}
\newcommand{\ottdruleCoreILam}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  A  \vdash  e  \Rightarrow  B}%
}{
\Gamma  \vdash  \lambda^{\Pi}  \ottmv{x}  \ottsym{:}  A  .\,  e  \Rightarrow   \Pi  \ottmv{x} : A  . \,  B }{%
{\ottdruleCoreILamName}{}%
}}
\newcommand{\ottdruleCoreILamLabeled}[2][]{\ottdruleCoreILam{#2}%
  \ruleLabel{\ottdruleCoreILamName}{#1\ottdruleCoreILamLabel}
}


\newcommand{\ottdruleCoreIPLamName}[0]{CoreIPLam}
\newcommand{\ottdruleCoreIPLamLabel}[0]{CoreIPLam}
\newcommand{\ottdruleCoreIPLam}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  A  \vdash  e  \Rightarrow  B}%
}{
\Gamma  \vdash  \lambda^{\forall}  \ottmv{x}  \ottsym{:}  A  .\,  e  \Rightarrow   \forall  \ottmv{x} : A'  . \,  B }{%
{\ottdruleCoreIPLamName}{}%
}}
\newcommand{\ottdruleCoreIPLamLabeled}[2][]{\ottdruleCoreIPLam{#2}%
  \ruleLabel{\ottdruleCoreIPLamName}{#1\ottdruleCoreIPLamLabel}
}


\newcommand{\ottdruleCoreIAppName}[0]{CoreIApp}
\newcommand{\ottdruleCoreIAppLabel}[0]{CoreIApp}
\newcommand{\ottdruleCoreIApp}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  e  \Rightarrow  A \quad \Gamma  \vdash  \vv{ s }  \ottsym{:}  A  \mathbin{> \hspace{-3pt} >}  B}%
}{
\Gamma  \vdash  e  \ottsym{(}  \vv{ s }  \ottsym{)}  \Rightarrow  B}{%
{\ottdruleCoreIAppName}{}%
}}
\newcommand{\ottdruleCoreIAppLabeled}[2][]{\ottdruleCoreIApp{#2}%
  \ruleLabel{\ottdruleCoreIAppName}{#1\ottdruleCoreIAppLabel}
}


\newcommand{\ottdruleCoreIReflName}[0]{CoreIRefl}
\newcommand{\ottdruleCoreIReflLabel}[0]{CoreIRefl}
\newcommand{\ottdruleCoreIRefl}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  e  \Rightarrow  A}%
}{
\Gamma  \vdash  \ottkw{refl} \, e  \Rightarrow   e  =  e  :  A }{%
{\ottdruleCoreIReflName}{}%
}}
\newcommand{\ottdruleCoreIReflLabeled}[2][]{\ottdruleCoreIRefl{#2}%
  \ruleLabel{\ottdruleCoreIReflName}{#1\ottdruleCoreIReflLabel}
}


\newcommand{\ottdruleCoreISubstName}[0]{CoreISubst}
\newcommand{\ottdruleCoreISubstLabel}[0]{CoreISubst}
\newcommand{\ottdruleCoreISubst}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  A \quad \Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  A  \vdash  B}%
\ottpremise{\Gamma  \vdash  e_{{\mathrm{1}}}  \Leftarrow  A \quad \Gamma  \vdash  e_{{\mathrm{2}}}  \Leftarrow  A}%
\ottpremise{\Gamma  \vdash  p  \Leftarrow   e_{{\mathrm{1}}}  =  e_{{\mathrm{2}}}  :  A }%
\ottpremise{\Gamma  \vdash  e  \Leftarrow  \ottsym{[}  e_{{\mathrm{1}}}  \ottsym{/}  \ottmv{x}  \ottsym{]}  B}%
}{
\Gamma  \vdash  \ottkw{subst} \, \ottsym{(}  p  \ottsym{:}  e_{{\mathrm{1}}}  \ottsym{=}  e_{{\mathrm{2}}}  \ottsym{:}  A  \ottsym{,}  \ottmv{x}  .\,  B  \ottsym{,}  e  \ottsym{)}  \Rightarrow  \ottsym{[}  e_{{\mathrm{2}}}  \ottsym{/}  \ottmv{x}  \ottsym{]}  B}{%
{\ottdruleCoreISubstName}{}%
}}
\newcommand{\ottdruleCoreISubstLabeled}[2][]{\ottdruleCoreISubst{#2}%
  \ruleLabel{\ottdruleCoreISubstName}{#1\ottdruleCoreISubstLabel}
}

\newcommand{\ottdefnHeaderCoreInf}[0]{$\Gamma  \vdash  e  \Rightarrow  A$}

\newcommand{\ottdefnCoreInf}[1]{\begin{ottdefnblock}[#1]{\ottdefnHeaderCoreInf}{}
\ottusedrule{\ottdruleCoreIVar{}}
\ottusedrule{\ottdruleCoreIUnit{}}
\ottusedrule{\ottdruleCoreILam{}}
\ottusedrule{\ottdruleCoreIPLam{}}
\ottusedrule{\ottdruleCoreIApp{}}
\ottusedrule{\ottdruleCoreIRefl{}}
\ottusedrule{\ottdruleCoreISubst{}}
\end{ottdefnblock}}


\newcommand{\ottdefnCoreInfLabeled}[2][]{\begin{ottdefnblock}[#2]{\ottdefnHeaderCoreInf}{}
\ottusedrule{\ottdruleCoreIVarLabeled[#1]{}}
\ottusedrule{\ottdruleCoreIUnitLabeled[#1]{}}
\ottusedrule{\ottdruleCoreILamLabeled[#1]{}}
\ottusedrule{\ottdruleCoreIPLamLabeled[#1]{}}
\ottusedrule{\ottdruleCoreIAppLabeled[#1]{}}
\ottusedrule{\ottdruleCoreIReflLabeled[#1]{}}
\ottusedrule{\ottdruleCoreISubstLabeled[#1]{}}
\end{ottdefnblock}}

%% defn SpineApp
\newcommand{\ottdruleCoreSAEmptyName}[0]{CoreSAEmpty}
\newcommand{\ottdruleCoreSAEmptyLabel}[0]{CoreSAEmpty}
\newcommand{\ottdruleCoreSAEmpty}[1]{\ottdrule[#1]{%
}{
\Gamma  \vdash  \cdot  \ottsym{:}  A  \mathbin{> \hspace{-3pt} >}  A}{%
{\ottdruleCoreSAEmptyName}{}%
}}
\newcommand{\ottdruleCoreSAEmptyLabeled}[2][]{\ottdruleCoreSAEmpty{#2}%
  \ruleLabel{\ottdruleCoreSAEmptyName}{#1\ottdruleCoreSAEmptyLabel}
}


\newcommand{\ottdruleCoreSAArgName}[0]{CoreSAArg}
\newcommand{\ottdruleCoreSAArgLabel}[0]{CoreSAArg}
\newcommand{\ottdruleCoreSAArg}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash   \Pi  \ottmv{x} : B  . \,  A }%
\ottpremise{\Gamma  \vdash  e  \Leftarrow  B \quad \Gamma  \vdash  \vv{ s }  \ottsym{:}  \ottsym{[}  e  \ottsym{/}  \ottmv{x}  \ottsym{]}  A  \mathbin{> \hspace{-3pt} >}  C}%
}{
\Gamma  \vdash  e  \ottsym{,}  \vv{ s }  \ottsym{:}   \Pi  \ottmv{x} : B  . \,  A   \mathbin{> \hspace{-3pt} >}  C}{%
{\ottdruleCoreSAArgName}{}%
}}
\newcommand{\ottdruleCoreSAArgLabeled}[2][]{\ottdruleCoreSAArg{#2}%
  \ruleLabel{\ottdruleCoreSAArgName}{#1\ottdruleCoreSAArgLabel}
}


\newcommand{\ottdruleCoreSAImpArgName}[0]{CoreSAImpArg}
\newcommand{\ottdruleCoreSAImpArgLabel}[0]{CoreSAImpArg}
\newcommand{\ottdruleCoreSAImpArg}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash   \forall  \ottmv{x} : B  . \,  A }%
\ottpremise{\Gamma  \vdash  e  \Leftarrow  B \quad \Gamma  \vdash  \vv{ s }  \ottsym{:}  \ottsym{[}  e  \ottsym{/}  \ottmv{x}  \ottsym{]}  A  \mathbin{> \hspace{-3pt} >}  C}%
}{
\Gamma  \vdash  \ottsym{\{}  e  \ottsym{\}}  \ottsym{,}  \vv{ s }  \ottsym{:}   \forall  \ottmv{x} : B  . \,  A   \mathbin{> \hspace{-3pt} >}  C}{%
{\ottdruleCoreSAImpArgName}{}%
}}
\newcommand{\ottdruleCoreSAImpArgLabeled}[2][]{\ottdruleCoreSAImpArg{#2}%
  \ruleLabel{\ottdruleCoreSAImpArgName}{#1\ottdruleCoreSAImpArgLabel}
}

\newcommand{\ottdefnHeaderCoreSpineApp}[0]{$\Gamma  \vdash  \vv{ s }  \ottsym{:}  A  \mathbin{> \hspace{-3pt} >}  B$}

\newcommand{\ottdefnCoreSpineApp}[1]{\begin{ottdefnblock}[#1]{\ottdefnHeaderCoreSpineApp}{}
\ottusedrule{\ottdruleCoreSAEmpty{}}
\ottusedrule{\ottdruleCoreSAArg{}}
\ottusedrule{\ottdruleCoreSAImpArg{}}
\end{ottdefnblock}}


\newcommand{\ottdefnCoreSpineAppLabeled}[2][]{\begin{ottdefnblock}[#2]{\ottdefnHeaderCoreSpineApp}{}
\ottusedrule{\ottdruleCoreSAEmptyLabeled[#1]{}}
\ottusedrule{\ottdruleCoreSAArgLabeled[#1]{}}
\ottusedrule{\ottdruleCoreSAImpArgLabeled[#1]{}}
\end{ottdefnblock}}

%% defn TypeConv
\newcommand{\ottdruleCoreTCPiName}[0]{CoreTCPi}
\newcommand{\ottdruleCoreTCPiLabel}[0]{CoreTCPi}
\newcommand{\ottdruleCoreTCPi}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  A  \equiv  A' \quad \Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  A  \vdash  B  \equiv  B'}%
}{
\Gamma  \vdash   \Pi  \ottmv{x} : A  . \,  B   \equiv   \Pi  \ottmv{x} : A'  . \,  B' }{%
{\ottdruleCoreTCPiName}{}%
}}
\newcommand{\ottdruleCoreTCPiLabeled}[2][]{\ottdruleCoreTCPi{#2}%
  \ruleLabel{\ottdruleCoreTCPiName}{#1\ottdruleCoreTCPiLabel}
}


\newcommand{\ottdruleCoreTCForallName}[0]{CoreTCForall}
\newcommand{\ottdruleCoreTCForallLabel}[0]{CoreTCForall}
\newcommand{\ottdruleCoreTCForall}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  A  \equiv  A' \quad \Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  A  \vdash  B  \equiv  B'}%
}{
\Gamma  \vdash   \forall  \ottmv{x} : A  . \,  B   \equiv   \forall  \ottmv{x} : A'  . \,  B' }{%
{\ottdruleCoreTCForallName}{}%
}}
\newcommand{\ottdruleCoreTCForallLabeled}[2][]{\ottdruleCoreTCForall{#2}%
  \ruleLabel{\ottdruleCoreTCForallName}{#1\ottdruleCoreTCForallLabel}
}


\newcommand{\ottdruleCoreTCEqName}[0]{CoreTCEq}
\newcommand{\ottdruleCoreTCEqLabel}[0]{CoreTCEq}
\newcommand{\ottdruleCoreTCEq}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  A  \equiv  B \quad \Gamma  \vdash  e_{{\mathrm{1}}}  \equiv  p_{{\mathrm{1}}}  \Leftarrow  A \quad \Gamma  \vdash  e_{{\mathrm{2}}}  \equiv  p_{{\mathrm{2}}}  \Leftarrow  A}%
}{
\Gamma  \vdash   e_{{\mathrm{1}}}  =  e_{{\mathrm{2}}}  :  A   \equiv   p_{{\mathrm{1}}}  =  p_{{\mathrm{2}}}  :  B }{%
{\ottdruleCoreTCEqName}{}%
}}
\newcommand{\ottdruleCoreTCEqLabeled}[2][]{\ottdruleCoreTCEq{#2}%
  \ruleLabel{\ottdruleCoreTCEqName}{#1\ottdruleCoreTCEqLabel}
}


\newcommand{\ottdruleCoreTCReflCName}[0]{CoreTCReflC}
\newcommand{\ottdruleCoreTCReflCLabel}[0]{CoreTCReflC}
\newcommand{\ottdruleCoreTCReflC}[1]{\ottdrule[#1]{%
}{
\Gamma  \vdash  A  \equiv  A}{%
{\ottdruleCoreTCReflCName}{}%
}}
\newcommand{\ottdruleCoreTCReflCLabeled}[2][]{\ottdruleCoreTCReflC{#2}%
  \ruleLabel{\ottdruleCoreTCReflCName}{#1\ottdruleCoreTCReflCLabel}
}


\newcommand{\ottdruleCoreTCSymCName}[0]{CoreTCSymC}
\newcommand{\ottdruleCoreTCSymCLabel}[0]{CoreTCSymC}
\newcommand{\ottdruleCoreTCSymC}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  A  \equiv  B}%
}{
\Gamma  \vdash  B  \equiv  A}{%
{\ottdruleCoreTCSymCName}{}%
}}
\newcommand{\ottdruleCoreTCSymCLabeled}[2][]{\ottdruleCoreTCSymC{#2}%
  \ruleLabel{\ottdruleCoreTCSymCName}{#1\ottdruleCoreTCSymCLabel}
}


\newcommand{\ottdruleCoreTCTransCName}[0]{CoreTCTransC}
\newcommand{\ottdruleCoreTCTransCLabel}[0]{CoreTCTransC}
\newcommand{\ottdruleCoreTCTransC}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  A  \equiv  B \quad \Gamma  \vdash  B  \equiv  C}%
}{
\Gamma  \vdash  A  \equiv  C}{%
{\ottdruleCoreTCTransCName}{}%
}}
\newcommand{\ottdruleCoreTCTransCLabeled}[2][]{\ottdruleCoreTCTransC{#2}%
  \ruleLabel{\ottdruleCoreTCTransCName}{#1\ottdruleCoreTCTransCLabel}
}

\newcommand{\ottdefnHeaderCoreTypeConv}[0]{$\Gamma  \vdash  A  \equiv  B$}

\newcommand{\ottdefnCoreTypeConv}[1]{\begin{ottdefnblock}[#1]{\ottdefnHeaderCoreTypeConv}{\ottcom{Type Conversion}}
\ottusedrule{\ottdruleCoreTCPi{}}
\ottusedrule{\ottdruleCoreTCForall{}}
\ottusedrule{\ottdruleCoreTCEq{}}
\ottusedrule{\ottdruleCoreTCReflC{}}
\ottusedrule{\ottdruleCoreTCSymC{}}
\ottusedrule{\ottdruleCoreTCTransC{}}
\end{ottdefnblock}}


\newcommand{\ottdefnCoreTypeConvLabeled}[2][]{\begin{ottdefnblock}[#2]{\ottdefnHeaderCoreTypeConv}{\ottcom{Type Conversion}}
\ottusedrule{\ottdruleCoreTCPiLabeled[#1]{}}
\ottusedrule{\ottdruleCoreTCForallLabeled[#1]{}}
\ottusedrule{\ottdruleCoreTCEqLabeled[#1]{}}
\ottusedrule{\ottdruleCoreTCReflCLabeled[#1]{}}
\ottusedrule{\ottdruleCoreTCSymCLabeled[#1]{}}
\ottusedrule{\ottdruleCoreTCTransCLabeled[#1]{}}
\end{ottdefnblock}}

%% defn InfConv
\newcommand{\ottdruleCoreICVarName}[0]{CoreICVar}
\newcommand{\ottdruleCoreICVarLabel}[0]{CoreICVar}
\newcommand{\ottdruleCoreICVar}[1]{\ottdrule[#1]{%
\ottpremise{\ottmv{x}  \ottsym{:}  A  \in  \Gamma}%
}{
\Gamma  \vdash  \ottmv{x}  \equiv  \ottmv{x}  \Rightarrow  A}{%
{\ottdruleCoreICVarName}{}%
}}
\newcommand{\ottdruleCoreICVarLabeled}[2][]{\ottdruleCoreICVar{#2}%
  \ruleLabel{\ottdruleCoreICVarName}{#1\ottdruleCoreICVarLabel}
}


\newcommand{\ottdruleCoreICAppName}[0]{CoreICApp}
\newcommand{\ottdruleCoreICAppLabel}[0]{CoreICApp}
\newcommand{\ottdruleCoreICApp}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  e_{{\mathrm{1}}}  \equiv  e_{{\mathrm{2}}}  \Rightarrow  A}%
\ottpremise{\Gamma  \vdash  \vv{ s }_{{\mathrm{1}}}  \equiv  \vv{ s }_{{\mathrm{2}}}  \ottsym{:}  A  \mathbin{> \hspace{-3pt} >}  B}%
}{
\Gamma  \vdash  e_{{\mathrm{1}}}  \ottsym{(}  \vv{ s }_{{\mathrm{1}}}  \ottsym{)}  \equiv  e_{{\mathrm{2}}}  \ottsym{(}  \vv{ s }_{{\mathrm{2}}}  \ottsym{)}  \Rightarrow  B}{%
{\ottdruleCoreICAppName}{}%
}}
\newcommand{\ottdruleCoreICAppLabeled}[2][]{\ottdruleCoreICApp{#2}%
  \ruleLabel{\ottdruleCoreICAppName}{#1\ottdruleCoreICAppLabel}
}

\newcommand{\ottdefnHeaderCoreInfConv}[0]{$\Gamma  \vdash  e_{{\mathrm{1}}}  \equiv  e_{{\mathrm{2}}}  \Rightarrow  A$}

\newcommand{\ottdefnCoreInfConv}[1]{\begin{ottdefnblock}[#1]{\ottdefnHeaderCoreInfConv}{}
\ottusedrule{\ottdruleCoreICVar{}}
\ottusedrule{\ottdruleCoreICApp{}}
\end{ottdefnblock}}


\newcommand{\ottdefnCoreInfConvLabeled}[2][]{\begin{ottdefnblock}[#2]{\ottdefnHeaderCoreInfConv}{}
\ottusedrule{\ottdruleCoreICVarLabeled[#1]{}}
\ottusedrule{\ottdruleCoreICAppLabeled[#1]{}}
\end{ottdefnblock}}

%% defn CheckConv
\newcommand{\ottdruleCoreCCSwitchName}[0]{CoreCCSwitch}
\newcommand{\ottdruleCoreCCSwitchLabel}[0]{CoreCCSwitch}
\newcommand{\ottdruleCoreCCSwitch}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  e_{{\mathrm{1}}}  \equiv  e_{{\mathrm{2}}}  \Rightarrow  A \quad \Gamma  \vdash  A  \equiv  B}%
}{
\Gamma  \vdash  e_{{\mathrm{1}}}  \equiv  e_{{\mathrm{2}}}  \Leftarrow  B}{%
{\ottdruleCoreCCSwitchName}{}%
}}
\newcommand{\ottdruleCoreCCSwitchLabeled}[2][]{\ottdruleCoreCCSwitch{#2}%
  \ruleLabel{\ottdruleCoreCCSwitchName}{#1\ottdruleCoreCCSwitchLabel}
}


\newcommand{\ottdruleCoreCCLamName}[0]{CoreCCLam}
\newcommand{\ottdruleCoreCCLamLabel}[0]{CoreCCLam}
\newcommand{\ottdruleCoreCCLam}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  A_{{\mathrm{1}}}  \equiv  A \quad \Gamma  \vdash  A_{{\mathrm{2}}}  \equiv  A \quad \Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  A  \vdash  e_{{\mathrm{1}}}  \equiv  e_{{\mathrm{2}}}  \Leftarrow  B}%
}{
\Gamma  \vdash  \lambda^{\Pi}  \ottmv{x}  \ottsym{:}  A_{{\mathrm{1}}}  .\,  e_{{\mathrm{1}}}  \equiv  \lambda^{\Pi}  \ottmv{x}  \ottsym{:}  A_{{\mathrm{2}}}  .\,  e_{{\mathrm{2}}}  \Leftarrow   \Pi  \ottmv{x} : A  . \,  B }{%
{\ottdruleCoreCCLamName}{}%
}}
\newcommand{\ottdruleCoreCCLamLabeled}[2][]{\ottdruleCoreCCLam{#2}%
  \ruleLabel{\ottdruleCoreCCLamName}{#1\ottdruleCoreCCLamLabel}
}


\newcommand{\ottdruleCoreCCPLamName}[0]{CoreCCPLam}
\newcommand{\ottdruleCoreCCPLamLabel}[0]{CoreCCPLam}
\newcommand{\ottdruleCoreCCPLam}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  A_{{\mathrm{1}}}  \equiv  A \quad \Gamma  \vdash  A_{{\mathrm{2}}}  \equiv  A \quad \Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  A  \vdash  e_{{\mathrm{1}}}  \equiv  e_{{\mathrm{2}}}  \Leftarrow  B}%
}{
\Gamma  \vdash  \lambda^{\forall}  \ottmv{x}  \ottsym{:}  A_{{\mathrm{1}}}  .\,  e_{{\mathrm{1}}}  \equiv  \lambda^{\forall}  \ottmv{x}  \ottsym{:}  A_{{\mathrm{2}}}  .\,  e_{{\mathrm{2}}}  \Leftarrow   \forall  \ottmv{x} : A  . \,  B }{%
{\ottdruleCoreCCPLamName}{}%
}}
\newcommand{\ottdruleCoreCCPLamLabeled}[2][]{\ottdruleCoreCCPLam{#2}%
  \ruleLabel{\ottdruleCoreCCPLamName}{#1\ottdruleCoreCCPLamLabel}
}


\newcommand{\ottdruleCoreCCReflName}[0]{CoreCCRefl}
\newcommand{\ottdruleCoreCCReflLabel}[0]{CoreCCRefl}
\newcommand{\ottdruleCoreCCRefl}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  p  \equiv  p'  \Leftarrow  A \quad \Gamma  \vdash  e_{{\mathrm{1}}}  \equiv  p  \Leftarrow  A \quad \Gamma  \vdash  e_{{\mathrm{2}}}  \equiv  p  \Leftarrow  A}%
}{
\Gamma  \vdash  \ottkw{refl} \, e_{{\mathrm{1}}}  \equiv  \ottkw{refl} \, e_{{\mathrm{2}}}  \Leftarrow  \ottsym{(}   p  =  p'  :  A   \ottsym{)}}{%
{\ottdruleCoreCCReflName}{}%
}}
\newcommand{\ottdruleCoreCCReflLabeled}[2][]{\ottdruleCoreCCRefl{#2}%
  \ruleLabel{\ottdruleCoreCCReflName}{#1\ottdruleCoreCCReflLabel}
}


\newcommand{\ottdruleCoreCCReflCName}[0]{CoreCCReflC}
\newcommand{\ottdruleCoreCCReflCLabel}[0]{CoreCCReflC}
\newcommand{\ottdruleCoreCCReflC}[1]{\ottdrule[#1]{%
}{
\Gamma  \vdash  e  \equiv  e  \Leftarrow  A}{%
{\ottdruleCoreCCReflCName}{}%
}}
\newcommand{\ottdruleCoreCCReflCLabeled}[2][]{\ottdruleCoreCCReflC{#2}%
  \ruleLabel{\ottdruleCoreCCReflCName}{#1\ottdruleCoreCCReflCLabel}
}


\newcommand{\ottdruleCoreCCSymCName}[0]{CoreCCSymC}
\newcommand{\ottdruleCoreCCSymCLabel}[0]{CoreCCSymC}
\newcommand{\ottdruleCoreCCSymC}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  e_{{\mathrm{1}}}  \equiv  e_{{\mathrm{2}}}  \Leftarrow  A}%
}{
\Gamma  \vdash  e_{{\mathrm{2}}}  \equiv  e_{{\mathrm{1}}}  \Leftarrow  A}{%
{\ottdruleCoreCCSymCName}{}%
}}
\newcommand{\ottdruleCoreCCSymCLabeled}[2][]{\ottdruleCoreCCSymC{#2}%
  \ruleLabel{\ottdruleCoreCCSymCName}{#1\ottdruleCoreCCSymCLabel}
}


\newcommand{\ottdruleCoreCCTransCName}[0]{CoreCCTransC}
\newcommand{\ottdruleCoreCCTransCLabel}[0]{CoreCCTransC}
\newcommand{\ottdruleCoreCCTransC}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  e_{{\mathrm{1}}}  \equiv  e_{{\mathrm{2}}}  \Leftarrow  A \quad \Gamma  \vdash  e_{{\mathrm{2}}}  \equiv  e_{{\mathrm{3}}}  \Leftarrow  A}%
}{
\Gamma  \vdash  e_{{\mathrm{1}}}  \equiv  e_{{\mathrm{3}}}  \Leftarrow  A}{%
{\ottdruleCoreCCTransCName}{}%
}}
\newcommand{\ottdruleCoreCCTransCLabeled}[2][]{\ottdruleCoreCCTransC{#2}%
  \ruleLabel{\ottdruleCoreCCTransCName}{#1\ottdruleCoreCCTransCLabel}
}


\newcommand{\ottdruleCoreCCBetaRName}[0]{CoreCCBetaR}
\newcommand{\ottdruleCoreCCBetaRLabel}[0]{CoreCCBetaR}
\newcommand{\ottdruleCoreCCBetaR}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  e_{{\mathrm{2}}}  \Leftarrow  A \quad \Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  A  \vdash  e_{{\mathrm{1}}}  \ottsym{(}  \vv{ s }  \ottsym{)}  \Leftarrow  B}%
}{
\Gamma  \vdash  \ottsym{(}  \lambda^{\Pi}  \ottmv{x}  \ottsym{:}  A  .\,  e_{{\mathrm{1}}}  \ottsym{)}  \ottsym{(}  e_{{\mathrm{2}}}  \ottsym{,}  \vv{ s }  \ottsym{)}  \equiv  \ottsym{[}  e_{{\mathrm{2}}}  \ottsym{/}  \ottmv{x}  \ottsym{]}  e_{{\mathrm{1}}}  \ottsym{(}  \vv{ s }  \ottsym{)}  \Leftarrow  B}{%
{\ottdruleCoreCCBetaRName}{}%
}}
\newcommand{\ottdruleCoreCCBetaRLabeled}[2][]{\ottdruleCoreCCBetaR{#2}%
  \ruleLabel{\ottdruleCoreCCBetaRName}{#1\ottdruleCoreCCBetaRLabel}
}


\newcommand{\ottdruleCoreCCBetaRImpName}[0]{CoreCCBetaRImp}
\newcommand{\ottdruleCoreCCBetaRImpLabel}[0]{CoreCCBetaRImp}
\newcommand{\ottdruleCoreCCBetaRImp}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  e_{{\mathrm{2}}}  \Leftarrow  A \quad \Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  A  \vdash  e_{{\mathrm{1}}}  \ottsym{(}  \vv{ s }  \ottsym{)}  \Leftarrow  B}%
}{
\Gamma  \vdash  \ottsym{(}  \lambda^{\forall}  \ottmv{x}  \ottsym{:}  A  .\,  e_{{\mathrm{1}}}  \ottsym{)}  \ottsym{(}  \ottsym{\{}  e_{{\mathrm{2}}}  \ottsym{\}}  \ottsym{,}  \vv{ s }  \ottsym{)}  \equiv  \ottsym{[}  e_{{\mathrm{2}}}  \ottsym{/}  \ottmv{x}  \ottsym{]}  e_{{\mathrm{1}}}  \ottsym{(}  \vv{ s }  \ottsym{)}  \Leftarrow  B}{%
{\ottdruleCoreCCBetaRImpName}{}%
}}
\newcommand{\ottdruleCoreCCBetaRImpLabeled}[2][]{\ottdruleCoreCCBetaRImp{#2}%
  \ruleLabel{\ottdruleCoreCCBetaRImpName}{#1\ottdruleCoreCCBetaRImpLabel}
}


\newcommand{\ottdruleCoreCCEtaRName}[0]{CoreCCEtaR}
\newcommand{\ottdruleCoreCCEtaRLabel}[0]{CoreCCEtaR}
\newcommand{\ottdruleCoreCCEtaR}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  e  \Leftarrow   \Pi  \ottmv{x} : A  . \,  B }%
}{
\Gamma  \vdash  \lambda^{\Pi}  \ottmv{x}  \ottsym{:}  A  .\,  e  \ottsym{(}  \ottmv{x}  \ottsym{)}  \equiv  e  \Leftarrow   \Pi  \ottmv{x} : A  . \,  B }{%
{\ottdruleCoreCCEtaRName}{}%
}}
\newcommand{\ottdruleCoreCCEtaRLabeled}[2][]{\ottdruleCoreCCEtaR{#2}%
  \ruleLabel{\ottdruleCoreCCEtaRName}{#1\ottdruleCoreCCEtaRLabel}
}


\newcommand{\ottdruleCoreCCEtaRImpName}[0]{CoreCCEtaRImp}
\newcommand{\ottdruleCoreCCEtaRImpLabel}[0]{CoreCCEtaRImp}
\newcommand{\ottdruleCoreCCEtaRImp}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  e  \Leftarrow   \forall  \ottmv{x} : A  . \,  B }%
}{
\Gamma  \vdash  \lambda^{\Pi}  \ottmv{x}  \ottsym{:}  A  .\,  e  \ottsym{(}  \ottsym{\{}  \ottmv{x}  \ottsym{\}}  \ottsym{)}  \equiv  e  \Leftarrow   \forall  \ottmv{x} : A  . \,  B }{%
{\ottdruleCoreCCEtaRImpName}{}%
}}
\newcommand{\ottdruleCoreCCEtaRImpLabeled}[2][]{\ottdruleCoreCCEtaRImp{#2}%
  \ruleLabel{\ottdruleCoreCCEtaRImpName}{#1\ottdruleCoreCCEtaRImpLabel}
}

\newcommand{\ottdefnHeaderCoreCheckConv}[0]{$\Gamma  \vdash  e_{{\mathrm{1}}}  \equiv  e_{{\mathrm{2}}}  \Leftarrow  A$}

\newcommand{\ottdefnCoreCheckConv}[1]{\begin{ottdefnblock}[#1]{\ottdefnHeaderCoreCheckConv}{\ottcom{Checking Conversion}}
\ottusedrule{\ottdruleCoreCCSwitch{}}
\ottusedrule{\ottdruleCoreCCLam{}}
\ottusedrule{\ottdruleCoreCCPLam{}}
\ottusedrule{\ottdruleCoreCCRefl{}}
\ottusedrule{\ottdruleCoreCCReflC{}}
\ottusedrule{\ottdruleCoreCCSymC{}}
\ottusedrule{\ottdruleCoreCCTransC{}}
\ottusedrule{\ottdruleCoreCCBetaR{}}
\ottusedrule{\ottdruleCoreCCBetaRImp{}}
\ottusedrule{\ottdruleCoreCCEtaR{}}
\ottusedrule{\ottdruleCoreCCEtaRImp{}}
\end{ottdefnblock}}


\newcommand{\ottdefnCoreCheckConvLabeled}[2][]{\begin{ottdefnblock}[#2]{\ottdefnHeaderCoreCheckConv}{\ottcom{Checking Conversion}}
\ottusedrule{\ottdruleCoreCCSwitchLabeled[#1]{}}
\ottusedrule{\ottdruleCoreCCLamLabeled[#1]{}}
\ottusedrule{\ottdruleCoreCCPLamLabeled[#1]{}}
\ottusedrule{\ottdruleCoreCCReflLabeled[#1]{}}
\ottusedrule{\ottdruleCoreCCReflCLabeled[#1]{}}
\ottusedrule{\ottdruleCoreCCSymCLabeled[#1]{}}
\ottusedrule{\ottdruleCoreCCTransCLabeled[#1]{}}
\ottusedrule{\ottdruleCoreCCBetaRLabeled[#1]{}}
\ottusedrule{\ottdruleCoreCCBetaRImpLabeled[#1]{}}
\ottusedrule{\ottdruleCoreCCEtaRLabeled[#1]{}}
\ottusedrule{\ottdruleCoreCCEtaRImpLabeled[#1]{}}
\end{ottdefnblock}}

%% defn SpineConv
\newcommand{\ottdruleCoreSCEmptyName}[0]{CoreSCEmpty}
\newcommand{\ottdruleCoreSCEmptyLabel}[0]{CoreSCEmpty}
\newcommand{\ottdruleCoreSCEmpty}[1]{\ottdrule[#1]{%
}{
\Gamma  \vdash  \cdot  \equiv  \cdot  \ottsym{:}  A  \mathbin{> \hspace{-3pt} >}  A}{%
{\ottdruleCoreSCEmptyName}{}%
}}
\newcommand{\ottdruleCoreSCEmptyLabeled}[2][]{\ottdruleCoreSCEmpty{#2}%
  \ruleLabel{\ottdruleCoreSCEmptyName}{#1\ottdruleCoreSCEmptyLabel}
}


\newcommand{\ottdruleCoreSCArgName}[0]{CoreSCArg}
\newcommand{\ottdruleCoreSCArgLabel}[0]{CoreSCArg}
\newcommand{\ottdruleCoreSCArg}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  e_{{\mathrm{1}}}  \equiv  e_{{\mathrm{2}}}  \Leftarrow  A \quad \Gamma  \vdash  \vv{ s }_{{\mathrm{1}}}  \equiv  \vv{ s }_{{\mathrm{2}}}  \ottsym{:}  \ottsym{[}  e_{{\mathrm{1}}}  \ottsym{/}  \ottmv{x}  \ottsym{]}  B  \mathbin{> \hspace{-3pt} >}  C}%
}{
\Gamma  \vdash  e_{{\mathrm{1}}}  \ottsym{,}  \vv{ s }_{{\mathrm{1}}}  \equiv  e_{{\mathrm{2}}}  \ottsym{,}  \vv{ s }_{{\mathrm{2}}}  \ottsym{:}   \Pi  \ottmv{x} : A  . \,  B   \mathbin{> \hspace{-3pt} >}  C}{%
{\ottdruleCoreSCArgName}{}%
}}
\newcommand{\ottdruleCoreSCArgLabeled}[2][]{\ottdruleCoreSCArg{#2}%
  \ruleLabel{\ottdruleCoreSCArgName}{#1\ottdruleCoreSCArgLabel}
}


\newcommand{\ottdruleCoreSCImpImpArgName}[0]{CoreSCImpImpArg}
\newcommand{\ottdruleCoreSCImpImpArgLabel}[0]{CoreSCImpImpArg}
\newcommand{\ottdruleCoreSCImpImpArg}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  e_{{\mathrm{1}}}  \equiv  e_{{\mathrm{2}}}  \Leftarrow  A \quad \Gamma  \vdash  \vv{ s }_{{\mathrm{1}}}  \equiv  \vv{ s }_{{\mathrm{2}}}  \ottsym{:}  \ottsym{[}  e_{{\mathrm{1}}}  \ottsym{/}  \ottmv{x}  \ottsym{]}  B  \mathbin{> \hspace{-3pt} >}  C}%
}{
\Gamma  \vdash  \ottsym{\{}  e_{{\mathrm{1}}}  \ottsym{\}}  \ottsym{,}  \vv{ s }_{{\mathrm{1}}}  \equiv  \ottsym{\{}  e_{{\mathrm{2}}}  \ottsym{\}}  \ottsym{,}  \vv{ s }_{{\mathrm{2}}}  \ottsym{:}   \forall  \ottmv{x} : A  . \,  B   \mathbin{> \hspace{-3pt} >}  C}{%
{\ottdruleCoreSCImpImpArgName}{}%
}}
\newcommand{\ottdruleCoreSCImpImpArgLabeled}[2][]{\ottdruleCoreSCImpImpArg{#2}%
  \ruleLabel{\ottdruleCoreSCImpImpArgName}{#1\ottdruleCoreSCImpImpArgLabel}
}

\newcommand{\ottdefnHeaderCoreSpineConv}[0]{$\Gamma  \vdash  \vv{ s }_{{\mathrm{1}}}  \equiv  \vv{ s }_{{\mathrm{2}}}  \ottsym{:}  A  \mathbin{> \hspace{-3pt} >}  B$}

\newcommand{\ottdefnCoreSpineConv}[1]{\begin{ottdefnblock}[#1]{\ottdefnHeaderCoreSpineConv}{\ottcom{Spine Conversion}}
\ottusedrule{\ottdruleCoreSCEmpty{}}
\ottusedrule{\ottdruleCoreSCArg{}}
\ottusedrule{\ottdruleCoreSCImpImpArg{}}
\end{ottdefnblock}}


\newcommand{\ottdefnCoreSpineConvLabeled}[2][]{\begin{ottdefnblock}[#2]{\ottdefnHeaderCoreSpineConv}{\ottcom{Spine Conversion}}
\ottusedrule{\ottdruleCoreSCEmptyLabeled[#1]{}}
\ottusedrule{\ottdruleCoreSCArgLabeled[#1]{}}
\ottusedrule{\ottdruleCoreSCImpImpArgLabeled[#1]{}}
\end{ottdefnblock}}

%% defn Wf
\newcommand{\ottdruleCoreWFUnitName}[0]{CoreWFUnit}
\newcommand{\ottdruleCoreWFUnitLabel}[0]{CoreWFUnit}
\newcommand{\ottdruleCoreWFUnit}[1]{\ottdrule[#1]{%
}{
\Gamma  \vdash   1 }{%
{\ottdruleCoreWFUnitName}{}%
}}
\newcommand{\ottdruleCoreWFUnitLabeled}[2][]{\ottdruleCoreWFUnit{#2}%
  \ruleLabel{\ottdruleCoreWFUnitName}{#1\ottdruleCoreWFUnitLabel}
}


\newcommand{\ottdruleCoreWFPiName}[0]{CoreWFPi}
\newcommand{\ottdruleCoreWFPiLabel}[0]{CoreWFPi}
\newcommand{\ottdruleCoreWFPi}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  A \quad \Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  A  \vdash  B}%
}{
\Gamma  \vdash   \Pi  \ottmv{x} : A  . \,  B }{%
{\ottdruleCoreWFPiName}{}%
}}
\newcommand{\ottdruleCoreWFPiLabeled}[2][]{\ottdruleCoreWFPi{#2}%
  \ruleLabel{\ottdruleCoreWFPiName}{#1\ottdruleCoreWFPiLabel}
}


\newcommand{\ottdruleCoreWFForallName}[0]{CoreWFForall}
\newcommand{\ottdruleCoreWFForallLabel}[0]{CoreWFForall}
\newcommand{\ottdruleCoreWFForall}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  A \quad \Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  A  \vdash  B}%
}{
\Gamma  \vdash   \forall  \ottmv{x} : A  . \,  B }{%
{\ottdruleCoreWFForallName}{}%
}}
\newcommand{\ottdruleCoreWFForallLabeled}[2][]{\ottdruleCoreWFForall{#2}%
  \ruleLabel{\ottdruleCoreWFForallName}{#1\ottdruleCoreWFForallLabel}
}


\newcommand{\ottdruleCoreWFEqName}[0]{CoreWFEq}
\newcommand{\ottdruleCoreWFEqLabel}[0]{CoreWFEq}
\newcommand{\ottdruleCoreWFEq}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  A \quad \Gamma  \vdash  e_{{\mathrm{1}}}  \Leftarrow  A \quad \Gamma  \vdash  e_{{\mathrm{2}}}  \Leftarrow  A}%
}{
\Gamma  \vdash   e_{{\mathrm{1}}}  =  e_{{\mathrm{2}}}  :  A }{%
{\ottdruleCoreWFEqName}{}%
}}
\newcommand{\ottdruleCoreWFEqLabeled}[2][]{\ottdruleCoreWFEq{#2}%
  \ruleLabel{\ottdruleCoreWFEqName}{#1\ottdruleCoreWFEqLabel}
}

\newcommand{\ottdefnHeaderCoreWf}[0]{$\Gamma  \vdash  A$}

\newcommand{\ottdefnCoreWf}[1]{\begin{ottdefnblock}[#1]{\ottdefnHeaderCoreWf}{}
\ottusedrule{\ottdruleCoreWFUnit{}}
\ottusedrule{\ottdruleCoreWFPi{}}
\ottusedrule{\ottdruleCoreWFForall{}}
\ottusedrule{\ottdruleCoreWFEq{}}
\end{ottdefnblock}}


\newcommand{\ottdefnCoreWfLabeled}[2][]{\begin{ottdefnblock}[#2]{\ottdefnHeaderCoreWf}{}
\ottusedrule{\ottdruleCoreWFUnitLabeled[#1]{}}
\ottusedrule{\ottdruleCoreWFPiLabeled[#1]{}}
\ottusedrule{\ottdruleCoreWFForallLabeled[#1]{}}
\ottusedrule{\ottdruleCoreWFEqLabeled[#1]{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsCore}{
\ottdefnCoreCheck{}\ottdefnCoreInf{}\ottdefnCoreSpineApp{}\ottdefnCoreTypeConv{}\ottdefnCoreInfConv{}\ottdefnCoreCheckConv{}\ottdefnCoreSpineConv{}\ottdefnCoreWf{}}

% fundefns F
% fundefn Tsubst

\newcommand{\ottfundefnTsubst}[1]{\begin{ottfundefnblock}[#1]{$\ottsym{[}  e  \ottsym{/}  \ottmv{x}  \ottsym{]}  B$}{}
\end{ottfundefnblock}}


% fundefn tsubst

\newcommand{\ottfundefntsubst}[1]{\begin{ottfundefnblock}[#1]{$\ottsym{[}  e_{{\mathrm{2}}}  \ottsym{/}  \ottmv{x}  \ottsym{]}  e_{{\mathrm{1}}}$}{}
\end{ottfundefnblock}}


% fundefn aTsubst

\newcommand{\ottfundefnaTsubst}[1]{\begin{ottfundefnblock}[#1]{$\ottsym{[}  \alg{e}  \ottsym{/}  \ottmv{x}  \ottsym{]}  \alg{B}$}{}
\end{ottfundefnblock}}


% fundefn aliftT

\newcommand{\ottfundefnaliftT}[1]{\begin{ottfundefnblock}[#1]{$ A $}{}
\end{ottfundefnblock}}


% fundefn salift

\newcommand{\ottfundefnsalift}[1]{\begin{ottfundefnblock}[#1]{$ \alg{e} $}{}
\end{ottfundefnblock}}


\newcommand{\ottfundefnsF}{
\ottfundefnTsubst{}
\ottfundefntsubst{}
\ottfundefnaTsubst{}
\ottfundefnaliftT{}
\ottfundefnsalift{}}

% defns Alg
%% defn Check
\newcommand{\ottdruleAlgCSwitchName}[0]{AlgCSwitch}
\newcommand{\ottdruleAlgCSwitchLabel}[0]{AlgCSwitch}
\newcommand{\ottdruleAlgCSwitch}[1]{\ottdrule[#1]{%
\ottpremise{M\Gamma  \mathbin{;}  \alg{\Gamma}  \vDash  \suralg{e}  \Rightarrow  \alg{A}  \leadsto  \alg{e}  \Dashv  M\Gamma_{{\mathrm{1}}} \quad M\Gamma_{{\mathrm{1}}}  \mathbin{;}  \alg{\Gamma}  \vDash  \alg{A}  \equiv  \alg{B}  \Dashv  M\Gamma_{{\mathrm{2}}}}%
}{
M\Gamma  \mathbin{;}  \alg{\Gamma}  \vDash  \suralg{e}  \Leftarrow  \alg{B}  \leadsto  \alg{e}  \Dashv  M\Gamma_{{\mathrm{2}}}}{%
{\ottdruleAlgCSwitchName}{}%
}}
\newcommand{\ottdruleAlgCSwitchLabeled}[2][]{\ottdruleAlgCSwitch{#2}%
  \ruleLabel{\ottdruleAlgCSwitchName}{#1\ottdruleAlgCSwitchLabel}
}

\newcommand{\ottdefnHeaderAlgCheck}[0]{$M\Gamma  \mathbin{;}  \alg{\Gamma}  \vDash  \suralg{e}  \Leftarrow  \alg{A}  \leadsto  \alg{e}  \Dashv  M\Gamma'$}

\newcommand{\ottdefnAlgCheck}[1]{\begin{ottdefnblock}[#1]{\ottdefnHeaderAlgCheck}{}
\ottusedrule{\ottdruleAlgCSwitch{}}
\end{ottdefnblock}}


\newcommand{\ottdefnAlgCheckLabeled}[2][]{\begin{ottdefnblock}[#2]{\ottdefnHeaderAlgCheck}{}
\ottusedrule{\ottdruleAlgCSwitchLabeled[#1]{}}
\end{ottdefnblock}}

%% defn Inf
\newcommand{\ottdruleAlgIVarName}[0]{AlgIVar}
\newcommand{\ottdruleAlgIVarLabel}[0]{AlgIVar}
\newcommand{\ottdruleAlgIVar}[1]{\ottdrule[#1]{%
\ottpremise{\ottmv{x}  \ottsym{:}  \alg{A}  \in  \alg{\Gamma}}%
}{
M\Gamma  \mathbin{;}  \alg{\Gamma}  \vDash  \ottmv{x}  \Rightarrow  \alg{A}  \leadsto  \ottmv{x}  \Dashv  M\Gamma}{%
{\ottdruleAlgIVarName}{}%
}}
\newcommand{\ottdruleAlgIVarLabeled}[2][]{\ottdruleAlgIVar{#2}%
  \ruleLabel{\ottdruleAlgIVarName}{#1\ottdruleAlgIVarLabel}
}


\newcommand{\ottdruleAlgIUnitName}[0]{AlgIUnit}
\newcommand{\ottdruleAlgIUnitLabel}[0]{AlgIUnit}
\newcommand{\ottdruleAlgIUnit}[1]{\ottdrule[#1]{%
}{
M\Gamma  \mathbin{;}  \alg{\Gamma}  \vDash  \mathbin{< >}  \Rightarrow   1   \leadsto  \mathbin{< >}  \Dashv  M\Gamma}{%
{\ottdruleAlgIUnitName}{}%
}}
\newcommand{\ottdruleAlgIUnitLabeled}[2][]{\ottdruleAlgIUnit{#2}%
  \ruleLabel{\ottdruleAlgIUnitName}{#1\ottdruleAlgIUnitLabel}
}


\newcommand{\ottdruleAlgILamName}[0]{AlgILam}
\newcommand{\ottdruleAlgILamLabel}[0]{AlgILam}
\newcommand{\ottdruleAlgILam}[1]{\ottdrule[#1]{%
\ottpremise{M\Gamma  \mathbin{;}  \alg{\Gamma}  \ottsym{,}  \ottmv{x}  \ottsym{:}  \alg{A}  \vDash  \suralg{e}  \Rightarrow  \alg{B}  \leadsto  \alg{e}  \Dashv  M\Gamma'}%
}{
M\Gamma  \mathbin{;}  \alg{\Gamma}  \vDash  \lambda^{\Pi}  \ottmv{x}  \ottsym{:}  \alg{A}  .\,  \suralg{e}  \Rightarrow   \Pi  \ottmv{x} : \alg{A}  . \,  \alg{B}   \leadsto  \lambda^{\Pi}  \ottmv{x}  \ottsym{:}  \alg{A}  .\,  \alg{e}  \Dashv  M\Gamma'}{%
{\ottdruleAlgILamName}{}%
}}
\newcommand{\ottdruleAlgILamLabeled}[2][]{\ottdruleAlgILam{#2}%
  \ruleLabel{\ottdruleAlgILamName}{#1\ottdruleAlgILamLabel}
}


\newcommand{\ottdruleAlgIPLamName}[0]{AlgIPLam}
\newcommand{\ottdruleAlgIPLamLabel}[0]{AlgIPLam}
\newcommand{\ottdruleAlgIPLam}[1]{\ottdrule[#1]{%
\ottpremise{M\Gamma  \mathbin{;}  \alg{\Gamma}  \ottsym{,}  \ottmv{x}  \ottsym{:}  \alg{A}  \vDash  \suralg{e}  \Rightarrow  \alg{B}  \leadsto  \alg{e}  \Dashv  M\Gamma'}%
}{
M\Gamma  \mathbin{;}  \alg{\Gamma}  \vDash  \lambda^{\forall}  \ottmv{x}  \ottsym{:}  \alg{A}  .\,  \suralg{e}  \Rightarrow   \forall  \ottmv{x} : \alg{A}  . \,  \alg{B}   \leadsto  \lambda^{\forall}  \ottmv{x}  \ottsym{:}  \alg{A}  .\,  \alg{e}  \Dashv  M\Gamma'}{%
{\ottdruleAlgIPLamName}{}%
}}
\newcommand{\ottdruleAlgIPLamLabeled}[2][]{\ottdruleAlgIPLam{#2}%
  \ruleLabel{\ottdruleAlgIPLamName}{#1\ottdruleAlgIPLamLabel}
}


\newcommand{\ottdruleAlgIAppName}[0]{AlgIApp}
\newcommand{\ottdruleAlgIAppLabel}[0]{AlgIApp}
\newcommand{\ottdruleAlgIApp}[1]{\ottdrule[#1]{%
\ottpremise{M\Gamma  \mathbin{;}  \alg{\Gamma}  \vDash  \suralg{e}  \Rightarrow  \alg{A}  \leadsto  \alg{e}  \Dashv  M\Gamma_{{\mathrm{1}}} \quad M\Gamma_{{\mathrm{1}}}  \mathbin{;}  \alg{\Gamma}  \vDash  \suralg{\vv{ s } }  \ottsym{:}  \alg{A}  \mathbin{> \hspace{-3pt} >}  \alg{B}  \leadsto  \alg{\vv{ s } }  \Dashv  M\Gamma_{{\mathrm{2}}}}%
}{
M\Gamma  \mathbin{;}  \alg{\Gamma}  \vDash  \suralg{e}  \ottsym{(}  \suralg{\vv{ s } }  \ottsym{)}  \Rightarrow  \alg{B}  \leadsto  \alg{e}  \ottsym{(}  \alg{\vv{ s } }  \ottsym{)}  \Dashv  M\Gamma_{{\mathrm{2}}}}{%
{\ottdruleAlgIAppName}{}%
}}
\newcommand{\ottdruleAlgIAppLabeled}[2][]{\ottdruleAlgIApp{#2}%
  \ruleLabel{\ottdruleAlgIAppName}{#1\ottdruleAlgIAppLabel}
}


\newcommand{\ottdruleAlgIReflName}[0]{AlgIRefl}
\newcommand{\ottdruleAlgIReflLabel}[0]{AlgIRefl}
\newcommand{\ottdruleAlgIRefl}[1]{\ottdrule[#1]{%
\ottpremise{M\Gamma  \mathbin{;}  \alg{\Gamma}  \vDash  \suralg{e}  \Rightarrow  \alg{A}  \leadsto  \alg{e}  \Dashv  M\Gamma'}%
}{
M\Gamma  \mathbin{;}  \alg{\Gamma}  \vDash  \ottkw{refl} \, \suralg{e}  \Rightarrow   \alg{e}  =  \alg{e}  :  \alg{A}   \leadsto  \ottkw{refl} \, \alg{e}  \Dashv  M\Gamma'}{%
{\ottdruleAlgIReflName}{}%
}}
\newcommand{\ottdruleAlgIReflLabeled}[2][]{\ottdruleAlgIRefl{#2}%
  \ruleLabel{\ottdruleAlgIReflName}{#1\ottdruleAlgIReflLabel}
}

\newcommand{\ottdefnHeaderAlgInf}[0]{$M\Gamma  \mathbin{;}  \alg{\Gamma}  \vDash  \suralg{e}  \Rightarrow  \alg{A}  \leadsto  \alg{e}  \Dashv  M\Gamma'$}

\newcommand{\ottdefnAlgInf}[1]{\begin{ottdefnblock}[#1]{\ottdefnHeaderAlgInf}{}
\ottusedrule{\ottdruleAlgIVar{}}
\ottusedrule{\ottdruleAlgIUnit{}}
\ottusedrule{\ottdruleAlgILam{}}
\ottusedrule{\ottdruleAlgIPLam{}}
\ottusedrule{\ottdruleAlgIApp{}}
\ottusedrule{\ottdruleAlgIRefl{}}
\end{ottdefnblock}}


\newcommand{\ottdefnAlgInfLabeled}[2][]{\begin{ottdefnblock}[#2]{\ottdefnHeaderAlgInf}{}
\ottusedrule{\ottdruleAlgIVarLabeled[#1]{}}
\ottusedrule{\ottdruleAlgIUnitLabeled[#1]{}}
\ottusedrule{\ottdruleAlgILamLabeled[#1]{}}
\ottusedrule{\ottdruleAlgIPLamLabeled[#1]{}}
\ottusedrule{\ottdruleAlgIAppLabeled[#1]{}}
\ottusedrule{\ottdruleAlgIReflLabeled[#1]{}}
\end{ottdefnblock}}

%% defn SpineApp
\newcommand{\ottdruleAlgSAEmptyName}[0]{AlgSAEmpty}
\newcommand{\ottdruleAlgSAEmptyLabel}[0]{AlgSAEmpty}
\newcommand{\ottdruleAlgSAEmpty}[1]{\ottdrule[#1]{%
}{
M\Gamma  \mathbin{;}  \alg{\Gamma}  \vDash  \cdot  \ottsym{:}  \alg{A}  \mathbin{> \hspace{-3pt} >}  \alg{A}  \leadsto  \cdot  \Dashv  M\Gamma}{%
{\ottdruleAlgSAEmptyName}{}%
}}
\newcommand{\ottdruleAlgSAEmptyLabeled}[2][]{\ottdruleAlgSAEmpty{#2}%
  \ruleLabel{\ottdruleAlgSAEmptyName}{#1\ottdruleAlgSAEmptyLabel}
}


\newcommand{\ottdruleAlgSAArgName}[0]{AlgSAArg}
\newcommand{\ottdruleAlgSAArgLabel}[0]{AlgSAArg}
\newcommand{\ottdruleAlgSAArg}[1]{\ottdrule[#1]{%
\ottpremise{M\Gamma  \mathbin{;}  \alg{\Gamma}  \vDash   \Pi  \ottmv{x} : \alg{B}  . \,  \alg{A}   \Dashv  M\Gamma_{{\mathrm{1}}}}%
\ottpremise{M\Gamma_{{\mathrm{1}}}  \mathbin{;}  \alg{\Gamma}  \vDash  \suralg{e}  \Leftarrow  \alg{B}  \leadsto  \alg{e}  \Dashv  M\Gamma_{{\mathrm{2}}}}%
\ottpremise{M\Gamma_{{\mathrm{2}}}  \mathbin{;}  \alg{\Gamma}  \vDash  \suralg{\vv{ s } }  \ottsym{:}  \ottsym{[}  \alg{e}  \ottsym{/}  \ottmv{x}  \ottsym{]}  \alg{A}  \mathbin{> \hspace{-3pt} >}  \alg{C}  \leadsto  \alg{\vv{ s } }  \Dashv  M\Gamma_{{\mathrm{3}}}}%
}{
M\Gamma  \mathbin{;}  \alg{\Gamma}  \vDash  \suralg{e}  \ottsym{,}  \suralg{\vv{ s } }  \ottsym{:}  \ottsym{(}   \Pi  \ottmv{x} : \alg{B}  . \,  \alg{A}   \ottsym{)}  \mathbin{> \hspace{-3pt} >}  \alg{C}  \leadsto  \alg{e}  \ottsym{,}  \alg{\vv{ s } }  \Dashv  M\Gamma_{{\mathrm{3}}}}{%
{\ottdruleAlgSAArgName}{}%
}}
\newcommand{\ottdruleAlgSAArgLabeled}[2][]{\ottdruleAlgSAArg{#2}%
  \ruleLabel{\ottdruleAlgSAArgName}{#1\ottdruleAlgSAArgLabel}
}


\newcommand{\ottdruleAlgSAImpArgName}[0]{AlgSAImpArg}
\newcommand{\ottdruleAlgSAImpArgLabel}[0]{AlgSAImpArg}
\newcommand{\ottdruleAlgSAImpArg}[1]{\ottdrule[#1]{%
\ottpremise{M\Gamma  \mathbin{;}  \alg{\Gamma}  \vDash   \forall  \ottmv{x} : \alg{B}  . \,  \alg{A}   \Dashv  M\Gamma_{{\mathrm{1}}}}%
\ottpremise{M\Gamma_{{\mathrm{1}}}  \mathbin{;}  \alg{\Gamma}  \vDash  \suralg{e}  \Leftarrow  \alg{B}  \leadsto  \alg{e}  \Dashv  M\Gamma_{{\mathrm{2}}}}%
\ottpremise{M\Gamma_{{\mathrm{2}}}  \mathbin{;}  \alg{\Gamma}  \vDash  \suralg{\vv{ s } }  \ottsym{:}  \ottsym{[}  \alg{e}  \ottsym{/}  \ottmv{x}  \ottsym{]}  \alg{A}  \mathbin{> \hspace{-3pt} >}  \alg{C}  \leadsto  \alg{\vv{ s } }  \Dashv  M\Gamma_{{\mathrm{3}}}}%
}{
M\Gamma  \mathbin{;}  \alg{\Gamma}  \vDash  \ottsym{\{}  \suralg{e}  \ottsym{\}}  \ottsym{,}  \suralg{\vv{ s } }  \ottsym{:}  \ottsym{(}   \forall  \ottmv{x} : \alg{B}  . \,  \alg{A}   \ottsym{)}  \mathbin{> \hspace{-3pt} >}  \alg{C}  \leadsto  \ottsym{\{}  \alg{e}  \ottsym{\}}  \ottsym{,}  \alg{\vv{ s } }  \Dashv  M\Gamma_{{\mathrm{3}}}}{%
{\ottdruleAlgSAImpArgName}{}%
}}
\newcommand{\ottdruleAlgSAImpArgLabeled}[2][]{\ottdruleAlgSAImpArg{#2}%
  \ruleLabel{\ottdruleAlgSAImpArgName}{#1\ottdruleAlgSAImpArgLabel}
}


\newcommand{\ottdruleAlgSAHoleArgName}[0]{AlgSAHoleArg}
\newcommand{\ottdruleAlgSAHoleArgLabel}[0]{AlgSAHoleArg}
\newcommand{\ottdruleAlgSAHoleArg}[1]{\ottdrule[#1]{%
\ottpremise{M\Gamma  \mathbin{;}  \alg{\Gamma}  \vDash   \forall  \ottmv{x} : \alg{B}  . \,  \alg{A}   \Dashv  M\Gamma_{{\mathrm{1}}} \quad M\Gamma_{{\mathrm{1}}}  \mathbin{;}  \alg{\Gamma}  \vDash  \suralg{\vv{ s } }  \ottsym{:}  \ottsym{[}   \widehat{x}   \ottsym{/}  \ottmv{x}  \ottsym{]}  \alg{A}  \mathbin{> \hspace{-3pt} >}  \alg{C}  \leadsto  \alg{\vv{ s } }  \Dashv  M\Gamma_{{\mathrm{2}}}}%
}{
M\Gamma  \mathbin{;}  \alg{\Gamma}  \vDash   \{\_\}   \ottsym{,}  \suralg{\vv{ s } }  \ottsym{:}  \ottsym{(}   \forall  \ottmv{x} : \alg{B}  . \,  \alg{A}   \ottsym{)}  \mathbin{> \hspace{-3pt} >}  \alg{C}  \leadsto  \ottsym{\{}   \widehat{x}   \ottsym{\}}  \ottsym{,}  \alg{\vv{ s } }  \Dashv  M\Gamma_{{\mathrm{2}}}  \ottsym{,}  \ottsym{(}  \alg{\Gamma}  \vdash  \ottmv{ax}  \Leftarrow  \alg{B}  \ottsym{)}}{%
{\ottdruleAlgSAHoleArgName}{}%
}}
\newcommand{\ottdruleAlgSAHoleArgLabeled}[2][]{\ottdruleAlgSAHoleArg{#2}%
  \ruleLabel{\ottdruleAlgSAHoleArgName}{#1\ottdruleAlgSAHoleArgLabel}
}

\newcommand{\ottdefnHeaderAlgSpineApp}[0]{$M\Gamma  \mathbin{;}  \alg{\Gamma}  \vDash  \suralg{\vv{ s } }  \ottsym{:}  \alg{A}  \mathbin{> \hspace{-3pt} >}  \alg{B}  \leadsto  \alg{\vv{ s } }  \Dashv  M\Gamma'$}

\newcommand{\ottdefnAlgSpineApp}[1]{\begin{ottdefnblock}[#1]{\ottdefnHeaderAlgSpineApp}{}
\ottusedrule{\ottdruleAlgSAEmpty{}}
\ottusedrule{\ottdruleAlgSAArg{}}
\ottusedrule{\ottdruleAlgSAImpArg{}}
\ottusedrule{\ottdruleAlgSAHoleArg{}}
\end{ottdefnblock}}


\newcommand{\ottdefnAlgSpineAppLabeled}[2][]{\begin{ottdefnblock}[#2]{\ottdefnHeaderAlgSpineApp}{}
\ottusedrule{\ottdruleAlgSAEmptyLabeled[#1]{}}
\ottusedrule{\ottdruleAlgSAArgLabeled[#1]{}}
\ottusedrule{\ottdruleAlgSAImpArgLabeled[#1]{}}
\ottusedrule{\ottdruleAlgSAHoleArgLabeled[#1]{}}
\end{ottdefnblock}}

%% defn Wf
\newcommand{\ottdruleAlgWFUnitName}[0]{AlgWFUnit}
\newcommand{\ottdruleAlgWFUnitLabel}[0]{AlgWFUnit}
\newcommand{\ottdruleAlgWFUnit}[1]{\ottdrule[#1]{%
}{
M\Gamma  \mathbin{;}  \alg{\Gamma}  \vDash   1   \Dashv  M\Gamma}{%
{\ottdruleAlgWFUnitName}{}%
}}
\newcommand{\ottdruleAlgWFUnitLabeled}[2][]{\ottdruleAlgWFUnit{#2}%
  \ruleLabel{\ottdruleAlgWFUnitName}{#1\ottdruleAlgWFUnitLabel}
}


\newcommand{\ottdruleAlgWFPiName}[0]{AlgWFPi}
\newcommand{\ottdruleAlgWFPiLabel}[0]{AlgWFPi}
\newcommand{\ottdruleAlgWFPi}[1]{\ottdrule[#1]{%
\ottpremise{M\Gamma  \mathbin{;}  \alg{\Gamma}  \vDash  \alg{A}  \Dashv  M\Gamma_{{\mathrm{1}}} \quad M\Gamma_{{\mathrm{1}}}  \mathbin{;}  \alg{\Gamma}  \ottsym{,}  \ottmv{x}  \ottsym{:}  \alg{A}  \vDash  \alg{B}  \Dashv  M\Gamma_{{\mathrm{2}}}}%
}{
M\Gamma  \mathbin{;}  \alg{\Gamma}  \vDash   \Pi  \ottmv{x} : \alg{A}  . \,  \alg{B}   \Dashv  M\Gamma_{{\mathrm{2}}}}{%
{\ottdruleAlgWFPiName}{}%
}}
\newcommand{\ottdruleAlgWFPiLabeled}[2][]{\ottdruleAlgWFPi{#2}%
  \ruleLabel{\ottdruleAlgWFPiName}{#1\ottdruleAlgWFPiLabel}
}


\newcommand{\ottdruleAlgWFForallName}[0]{AlgWFForall}
\newcommand{\ottdruleAlgWFForallLabel}[0]{AlgWFForall}
\newcommand{\ottdruleAlgWFForall}[1]{\ottdrule[#1]{%
\ottpremise{M\Gamma  \mathbin{;}  \alg{\Gamma}  \vDash  \alg{A}  \Dashv  M\Gamma_{{\mathrm{1}}} \quad M\Gamma_{{\mathrm{1}}}  \mathbin{;}  \alg{\Gamma}  \ottsym{,}  \ottmv{x}  \ottsym{:}  \alg{A}  \vDash  \alg{B}  \Dashv  M\Gamma_{{\mathrm{2}}}}%
}{
M\Gamma  \mathbin{;}  \alg{\Gamma}  \vDash   \forall  \ottmv{x} : \alg{A}  . \,  \alg{B}   \Dashv  M\Gamma_{{\mathrm{2}}}}{%
{\ottdruleAlgWFForallName}{}%
}}
\newcommand{\ottdruleAlgWFForallLabeled}[2][]{\ottdruleAlgWFForall{#2}%
  \ruleLabel{\ottdruleAlgWFForallName}{#1\ottdruleAlgWFForallLabel}
}


\newcommand{\ottdruleAlgWFEqName}[0]{AlgWFEq}
\newcommand{\ottdruleAlgWFEqLabel}[0]{AlgWFEq}
\newcommand{\ottdruleAlgWFEq}[1]{\ottdrule[#1]{%
\ottpremise{M\Gamma  \mathbin{;}  \alg{\Gamma}  \vDash  \alg{A}  \Dashv  M\Gamma_{{\mathrm{1}}}}%
\ottpremise{M\Gamma_{{\mathrm{1}}}  \mathbin{;}  \alg{\Gamma}  \vDash   \alg{e}_{{\mathrm{1}}}   \Leftarrow  \alg{A}  \leadsto  \alg{e}_{{\mathrm{3}}}  \Dashv  M\Gamma_{{\mathrm{2}}} \quad M\Gamma_{{\mathrm{2}}}  \mathbin{;}  \alg{\Gamma}  \vDash   \alg{e}_{{\mathrm{2}}}   \Leftarrow  \alg{A}  \leadsto  \alg{e}_{{\mathrm{3}}}  \Dashv  M\Gamma_{{\mathrm{3}}}}%
}{
M\Gamma  \mathbin{;}  \alg{\Gamma}  \vDash   \alg{e}_{{\mathrm{1}}}  =  \alg{e}_{{\mathrm{2}}}  :  \alg{A}   \Dashv  M\Gamma_{{\mathrm{3}}}}{%
{\ottdruleAlgWFEqName}{}%
}}
\newcommand{\ottdruleAlgWFEqLabeled}[2][]{\ottdruleAlgWFEq{#2}%
  \ruleLabel{\ottdruleAlgWFEqName}{#1\ottdruleAlgWFEqLabel}
}

\newcommand{\ottdefnHeaderAlgWf}[0]{$M\Gamma  \mathbin{;}  \alg{\Gamma}  \vDash  \alg{A}  \Dashv  M\Gamma'$}

\newcommand{\ottdefnAlgWf}[1]{\begin{ottdefnblock}[#1]{\ottdefnHeaderAlgWf}{}
\ottusedrule{\ottdruleAlgWFUnit{}}
\ottusedrule{\ottdruleAlgWFPi{}}
\ottusedrule{\ottdruleAlgWFForall{}}
\ottusedrule{\ottdruleAlgWFEq{}}
\end{ottdefnblock}}


\newcommand{\ottdefnAlgWfLabeled}[2][]{\begin{ottdefnblock}[#2]{\ottdefnHeaderAlgWf}{}
\ottusedrule{\ottdruleAlgWFUnitLabeled[#1]{}}
\ottusedrule{\ottdruleAlgWFPiLabeled[#1]{}}
\ottusedrule{\ottdruleAlgWFForallLabeled[#1]{}}
\ottusedrule{\ottdruleAlgWFEqLabeled[#1]{}}
\end{ottdefnblock}}

%% defn Unif

\newcommand{\ottdefnHeaderAlgUnif}[0]{$M\Gamma  \mathbin{;}  \alg{\Gamma}  \vDash  \alg{A}  \equiv  \alg{B}  \Dashv  M\Gamma'$}

\newcommand{\ottdefnAlgUnif}[1]{\begin{ottdefnblock}[#1]{\ottdefnHeaderAlgUnif}{}
\end{ottdefnblock}}


\newcommand{\ottdefnAlgUnifLabeled}[2][]{\begin{ottdefnblock}[#2]{\ottdefnHeaderAlgUnif}{}
\end{ottdefnblock}}


\newcommand{\ottdefnsAlg}{
\ottdefnAlgCheck{}\ottdefnAlgInf{}\ottdefnAlgSpineApp{}\ottdefnAlgWf{}\ottdefnAlgUnif{}}

% defns Typ
%% defn Check
\newcommand{\ottdruleTypCSwitchName}[0]{TypCSwitch}
\newcommand{\ottdruleTypCSwitchLabel}[0]{TypCSwitch}
\newcommand{\ottdruleTypCSwitch}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \sur{e}  \Rightarrow  A  \leadsto  e \quad \Gamma  \vdash  A  \equiv  B}%
}{
\Gamma  \vdash  \sur{e}  \Leftarrow  B  \leadsto  e}{%
{\ottdruleTypCSwitchName}{}%
}}
\newcommand{\ottdruleTypCSwitchLabeled}[2][]{\ottdruleTypCSwitch{#2}%
  \ruleLabel{\ottdruleTypCSwitchName}{#1\ottdruleTypCSwitchLabel}
}

\newcommand{\ottdefnHeaderTypCheck}[0]{$\Gamma  \vdash  \sur{e}  \Leftarrow  A  \leadsto  e$}

\newcommand{\ottdefnTypCheck}[1]{\begin{ottdefnblock}[#1]{\ottdefnHeaderTypCheck}{}
\ottusedrule{\ottdruleTypCSwitch{}}
\end{ottdefnblock}}


\newcommand{\ottdefnTypCheckLabeled}[2][]{\begin{ottdefnblock}[#2]{\ottdefnHeaderTypCheck}{}
\ottusedrule{\ottdruleTypCSwitchLabeled[#1]{}}
\end{ottdefnblock}}

%% defn Inf
\newcommand{\ottdruleTypIVarName}[0]{TypIVar}
\newcommand{\ottdruleTypIVarLabel}[0]{TypIVar}
\newcommand{\ottdruleTypIVar}[1]{\ottdrule[#1]{%
\ottpremise{\ottmv{x}  \ottsym{:}  A  \in  \Gamma}%
}{
\Gamma  \vdash  \ottmv{x}  \Rightarrow  A  \leadsto  \ottmv{x}}{%
{\ottdruleTypIVarName}{}%
}}
\newcommand{\ottdruleTypIVarLabeled}[2][]{\ottdruleTypIVar{#2}%
  \ruleLabel{\ottdruleTypIVarName}{#1\ottdruleTypIVarLabel}
}


\newcommand{\ottdruleTypIUnitName}[0]{TypIUnit}
\newcommand{\ottdruleTypIUnitLabel}[0]{TypIUnit}
\newcommand{\ottdruleTypIUnit}[1]{\ottdrule[#1]{%
}{
\Gamma  \vdash  \mathbin{< >}  \Rightarrow   1   \leadsto  \mathbin{< >}}{%
{\ottdruleTypIUnitName}{}%
}}
\newcommand{\ottdruleTypIUnitLabeled}[2][]{\ottdruleTypIUnit{#2}%
  \ruleLabel{\ottdruleTypIUnitName}{#1\ottdruleTypIUnitLabel}
}


\newcommand{\ottdruleTypILamName}[0]{TypILam}
\newcommand{\ottdruleTypILamLabel}[0]{TypILam}
\newcommand{\ottdruleTypILam}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  A  \vdash  \sur{e}  \Rightarrow  B  \leadsto  e'}%
}{
\Gamma  \vdash  \lambda^{\Pi}  \ottmv{x}  \ottsym{:}  A  .\,  \sur{e}  \Rightarrow   \Pi  \ottmv{x} : A  . \,  B   \leadsto  \lambda^{\Pi}  \ottmv{x}  \ottsym{:}  A  .\,  e'}{%
{\ottdruleTypILamName}{}%
}}
\newcommand{\ottdruleTypILamLabeled}[2][]{\ottdruleTypILam{#2}%
  \ruleLabel{\ottdruleTypILamName}{#1\ottdruleTypILamLabel}
}


\newcommand{\ottdruleTypIPLamName}[0]{TypIPLam}
\newcommand{\ottdruleTypIPLamLabel}[0]{TypIPLam}
\newcommand{\ottdruleTypIPLam}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  A  \vdash  \sur{e}  \Rightarrow  B  \leadsto  e'}%
}{
\Gamma  \vdash  \lambda^{\forall}  \ottmv{x}  \ottsym{:}  A  .\,  \sur{e}  \Rightarrow   \forall  \ottmv{x} : A  . \,  B   \leadsto  \lambda^{\forall}  \ottmv{x}  \ottsym{:}  A  .\,  e'}{%
{\ottdruleTypIPLamName}{}%
}}
\newcommand{\ottdruleTypIPLamLabeled}[2][]{\ottdruleTypIPLam{#2}%
  \ruleLabel{\ottdruleTypIPLamName}{#1\ottdruleTypIPLamLabel}
}


\newcommand{\ottdruleTypIAppName}[0]{TypIApp}
\newcommand{\ottdruleTypIAppLabel}[0]{TypIApp}
\newcommand{\ottdruleTypIApp}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \sur{e}  \Rightarrow  A  \leadsto  e \quad \Gamma  \vdash  \vv{ \sur{ss} }  \ottsym{:}  A  \mathbin{> \hspace{-3pt} >}  B  \leadsto  \vv{ s }}%
}{
\Gamma  \vdash  \sur{e}  \ottsym{(}  \vv{ \sur{ss} }  \ottsym{)}  \Rightarrow  B  \leadsto  e  \ottsym{(}  \vv{ s }  \ottsym{)}}{%
{\ottdruleTypIAppName}{}%
}}
\newcommand{\ottdruleTypIAppLabeled}[2][]{\ottdruleTypIApp{#2}%
  \ruleLabel{\ottdruleTypIAppName}{#1\ottdruleTypIAppLabel}
}


\newcommand{\ottdruleTypIReflName}[0]{TypIRefl}
\newcommand{\ottdruleTypIReflLabel}[0]{TypIRefl}
\newcommand{\ottdruleTypIRefl}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \sur{e}  \Rightarrow  A  \leadsto  e}%
}{
\Gamma  \vdash  \ottkw{refl} \, \sur{e}  \Rightarrow   e  =  e  :  A   \leadsto  \ottkw{refl} \, e}{%
{\ottdruleTypIReflName}{}%
}}
\newcommand{\ottdruleTypIReflLabeled}[2][]{\ottdruleTypIRefl{#2}%
  \ruleLabel{\ottdruleTypIReflName}{#1\ottdruleTypIReflLabel}
}


\newcommand{\ottdruleTypISubstName}[0]{TypISubst}
\newcommand{\ottdruleTypISubstLabel}[0]{TypISubst}
\newcommand{\ottdruleTypISubst}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  A \quad \Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  A  \vdash  B}%
\ottpremise{\Gamma  \vdash  \sur{e}_{{\mathrm{1}}}  \Leftarrow  A  \leadsto  e_{{\mathrm{1}}} \quad \Gamma  \vdash  \sur{e}_{{\mathrm{2}}}  \Leftarrow  A  \leadsto  e_{{\mathrm{2}}}}%
\ottpremise{\Gamma  \vdash  \sur{p}  \Leftarrow   e_{{\mathrm{1}}}  =  e_{{\mathrm{2}}}  :  A   \leadsto  p}%
\ottpremise{\Gamma  \vdash  \sur{e}  \Leftarrow  \ottsym{[}  e_{{\mathrm{1}}}  \ottsym{/}  \ottmv{x}  \ottsym{]}  B  \leadsto  e}%
}{
\Gamma  \vdash  \ottkw{subst} \, \ottsym{(}  \sur{p}  \ottsym{:}  \sur{e}_{{\mathrm{1}}}  \ottsym{=}  \sur{e}_{{\mathrm{2}}}  \ottsym{:}  A  \ottsym{,}  \ottmv{x}  .\,  B  \ottsym{,}  \sur{e}  \ottsym{)}  \Rightarrow  \ottsym{[}  e_{{\mathrm{2}}}  \ottsym{/}  \ottmv{x}  \ottsym{]}  B  \leadsto  \ottkw{subst} \, \ottsym{(}  p  \ottsym{:}  e_{{\mathrm{1}}}  \ottsym{=}  e_{{\mathrm{2}}}  \ottsym{:}  A  \ottsym{,}  \ottmv{x}  .\,  B  \ottsym{,}  e  \ottsym{)}}{%
{\ottdruleTypISubstName}{}%
}}
\newcommand{\ottdruleTypISubstLabeled}[2][]{\ottdruleTypISubst{#2}%
  \ruleLabel{\ottdruleTypISubstName}{#1\ottdruleTypISubstLabel}
}

\newcommand{\ottdefnHeaderTypInf}[0]{$\Gamma  \vdash  \sur{e}  \Rightarrow  A  \leadsto  e$}

\newcommand{\ottdefnTypInf}[1]{\begin{ottdefnblock}[#1]{\ottdefnHeaderTypInf}{}
\ottusedrule{\ottdruleTypIVar{}}
\ottusedrule{\ottdruleTypIUnit{}}
\ottusedrule{\ottdruleTypILam{}}
\ottusedrule{\ottdruleTypIPLam{}}
\ottusedrule{\ottdruleTypIApp{}}
\ottusedrule{\ottdruleTypIRefl{}}
\ottusedrule{\ottdruleTypISubst{}}
\end{ottdefnblock}}


\newcommand{\ottdefnTypInfLabeled}[2][]{\begin{ottdefnblock}[#2]{\ottdefnHeaderTypInf}{}
\ottusedrule{\ottdruleTypIVarLabeled[#1]{}}
\ottusedrule{\ottdruleTypIUnitLabeled[#1]{}}
\ottusedrule{\ottdruleTypILamLabeled[#1]{}}
\ottusedrule{\ottdruleTypIPLamLabeled[#1]{}}
\ottusedrule{\ottdruleTypIAppLabeled[#1]{}}
\ottusedrule{\ottdruleTypIReflLabeled[#1]{}}
\ottusedrule{\ottdruleTypISubstLabeled[#1]{}}
\end{ottdefnblock}}

%% defn SpineApp
\newcommand{\ottdruleTypSAEmptyName}[0]{TypSAEmpty}
\newcommand{\ottdruleTypSAEmptyLabel}[0]{TypSAEmpty}
\newcommand{\ottdruleTypSAEmpty}[1]{\ottdrule[#1]{%
}{
\Gamma  \vdash  \cdot  \ottsym{:}  A  \mathbin{> \hspace{-3pt} >}  A  \leadsto  \cdot}{%
{\ottdruleTypSAEmptyName}{}%
}}
\newcommand{\ottdruleTypSAEmptyLabeled}[2][]{\ottdruleTypSAEmpty{#2}%
  \ruleLabel{\ottdruleTypSAEmptyName}{#1\ottdruleTypSAEmptyLabel}
}


\newcommand{\ottdruleTypSAArgName}[0]{TypSAArg}
\newcommand{\ottdruleTypSAArgLabel}[0]{TypSAArg}
\newcommand{\ottdruleTypSAArg}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash   \Pi  \ottmv{x} : B  . \,  A }%
\ottpremise{\Gamma  \vdash  \sur{e}  \Leftarrow  B  \leadsto  e \quad \Gamma  \vdash  \vv{ \sur{ss} }  \ottsym{:}  \ottsym{[}  e  \ottsym{/}  \ottmv{x}  \ottsym{]}  A  \mathbin{> \hspace{-3pt} >}  C  \leadsto  \vv{ s }}%
}{
\Gamma  \vdash  \sur{e}  \ottsym{,}  \vv{ \sur{ss} }  \ottsym{:}   \Pi  \ottmv{x} : B  . \,  A   \mathbin{> \hspace{-3pt} >}  C  \leadsto  e  \ottsym{,}  \vv{ s }}{%
{\ottdruleTypSAArgName}{}%
}}
\newcommand{\ottdruleTypSAArgLabeled}[2][]{\ottdruleTypSAArg{#2}%
  \ruleLabel{\ottdruleTypSAArgName}{#1\ottdruleTypSAArgLabel}
}


\newcommand{\ottdruleTypSAImpArgName}[0]{TypSAImpArg}
\newcommand{\ottdruleTypSAImpArgLabel}[0]{TypSAImpArg}
\newcommand{\ottdruleTypSAImpArg}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash   \forall  \ottmv{x} : B  . \,  A }%
\ottpremise{\Gamma  \vdash  \sur{e}  \Leftarrow  B  \leadsto  e \quad \Gamma  \vdash  \vv{ \sur{ss} }  \ottsym{:}  \ottsym{[}  e  \ottsym{/}  \ottmv{x}  \ottsym{]}  A  \mathbin{> \hspace{-3pt} >}  C  \leadsto  \vv{ s }}%
}{
\Gamma  \vdash  \ottsym{\{}  \sur{e}  \ottsym{\}}  \ottsym{,}  \vv{ \sur{ss} }  \ottsym{:}   \forall  \ottmv{x} : B  . \,  A   \mathbin{> \hspace{-3pt} >}  C  \leadsto  \ottsym{\{}  e  \ottsym{\}}  \ottsym{,}  \vv{ s }}{%
{\ottdruleTypSAImpArgName}{}%
}}
\newcommand{\ottdruleTypSAImpArgLabeled}[2][]{\ottdruleTypSAImpArg{#2}%
  \ruleLabel{\ottdruleTypSAImpArgName}{#1\ottdruleTypSAImpArgLabel}
}


\newcommand{\ottdruleTypSAHoleArgName}[0]{TypSAHoleArg}
\newcommand{\ottdruleTypSAHoleArgLabel}[0]{TypSAHoleArg}
\newcommand{\ottdruleTypSAHoleArg}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash   \forall  \ottmv{x} : B  . \,  A }%
\ottpremise{\Gamma  \vdash  e  \Leftarrow  B \quad \Gamma  \vdash  \vv{ \sur{ss} }  \ottsym{:}  \ottsym{[}  e  \ottsym{/}  \ottmv{x}  \ottsym{]}  A  \mathbin{> \hspace{-3pt} >}  C  \leadsto  \vv{ s }}%
}{
\Gamma  \vdash   \{\_\}   \ottsym{,}  \vv{ \sur{ss} }  \ottsym{:}   \forall  \ottmv{x} : B  . \,  A   \mathbin{> \hspace{-3pt} >}  C  \leadsto  \ottsym{\{}  e  \ottsym{\}}  \ottsym{,}  \vv{ s }}{%
{\ottdruleTypSAHoleArgName}{}%
}}
\newcommand{\ottdruleTypSAHoleArgLabeled}[2][]{\ottdruleTypSAHoleArg{#2}%
  \ruleLabel{\ottdruleTypSAHoleArgName}{#1\ottdruleTypSAHoleArgLabel}
}

\newcommand{\ottdefnHeaderTypSpineApp}[0]{$\Gamma  \vdash  \vv{ \sur{ss} }  \ottsym{:}  A  \mathbin{> \hspace{-3pt} >}  B  \leadsto  \vv{ s }$}

\newcommand{\ottdefnTypSpineApp}[1]{\begin{ottdefnblock}[#1]{\ottdefnHeaderTypSpineApp}{}
\ottusedrule{\ottdruleTypSAEmpty{}}
\ottusedrule{\ottdruleTypSAArg{}}
\ottusedrule{\ottdruleTypSAImpArg{}}
\ottusedrule{\ottdruleTypSAHoleArg{}}
\end{ottdefnblock}}


\newcommand{\ottdefnTypSpineAppLabeled}[2][]{\begin{ottdefnblock}[#2]{\ottdefnHeaderTypSpineApp}{}
\ottusedrule{\ottdruleTypSAEmptyLabeled[#1]{}}
\ottusedrule{\ottdruleTypSAArgLabeled[#1]{}}
\ottusedrule{\ottdruleTypSAImpArgLabeled[#1]{}}
\ottusedrule{\ottdruleTypSAHoleArgLabeled[#1]{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsTyp}{
\ottdefnTypCheck{}\ottdefnTypInf{}\ottdefnTypSpineApp{}}

\newcommand{\ottdefnss}{
\ottdefnsCore
\ottfundefnsF
\ottdefnsAlg
\ottdefnsTyp
}

\newcommand{\ottall}{\ottmetavars\\[0pt]
\ottgrammar\\[5.0mm]
\ottdefnss}

